var N_=Object.defineProperty;var R_=(i,t,r)=>t in i?N_(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var Uu=(i,t,r)=>R_(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function x_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bu={exports:{}},Ni={},Wu={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function P_(){if(rh)return q;rh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),w=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,H={};function K(E,R,Y){this.props=E,this.context=R,this.refs=H,this.updater=Y||O}K.prototype.isReactComponent={},K.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function He(){}He.prototype=K.prototype;function Ge(E,R,Y){this.props=E,this.context=R,this.refs=H,this.updater=Y||O}var Ke=Ge.prototype=new He;Ke.constructor=Ge,U(Ke,K.prototype),Ke.isPureReactComponent=!0;var xe=Array.isArray,St=Object.prototype.hasOwnProperty,Ye={current:null},Ze={key:!0,ref:!0,__self:!0,__source:!0};function mt(E,R,Y){var Z,ne={},re=null,ae=null;if(R!=null)for(Z in R.ref!==void 0&&(ae=R.ref),R.key!==void 0&&(re=""+R.key),R)St.call(R,Z)&&!Ze.hasOwnProperty(Z)&&(ne[Z]=R[Z]);var oe=arguments.length-2;if(oe===1)ne.children=Y;else if(1<oe){for(var ge=Array(oe),ct=0;ct<oe;ct++)ge[ct]=arguments[ct+2];ne.children=ge}if(E&&E.defaultProps)for(Z in oe=E.defaultProps,oe)ne[Z]===void 0&&(ne[Z]=oe[Z]);return{$$typeof:i,type:E,key:re,ref:ae,props:ne,_owner:Ye.current}}function rn(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function bt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function Dn(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return R[Y]})}var Mt=/\/+/g;function at(E,R){return typeof E=="object"&&E!==null&&E.key!=null?Dn(""+E.key):R.toString(36)}function kt(E,R,Y,Z,ne){var re=typeof E;(re==="undefined"||re==="boolean")&&(E=null);var ae=!1;if(E===null)ae=!0;else switch(re){case"string":case"number":ae=!0;break;case"object":switch(E.$$typeof){case i:case t:ae=!0}}if(ae)return ae=E,ne=ne(ae),E=Z===""?"."+at(ae,0):Z,xe(ne)?(Y="",E!=null&&(Y=E.replace(Mt,"$&/")+"/"),kt(ne,R,Y,"",function(ct){return ct})):ne!=null&&(bt(ne)&&(ne=rn(ne,Y+(!ne.key||ae&&ae.key===ne.key?"":(""+ne.key).replace(Mt,"$&/")+"/")+E)),R.push(ne)),1;if(ae=0,Z=Z===""?".":Z+":",xe(E))for(var oe=0;oe<E.length;oe++){re=E[oe];var ge=Z+at(re,oe);ae+=kt(re,R,Y,ge,ne)}else if(ge=I(E),typeof ge=="function")for(E=ge.call(E),oe=0;!(re=E.next()).done;)re=re.value,ge=Z+at(re,oe++),ae+=kt(re,R,Y,ge,ne);else if(re==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ae}function Ft(E,R,Y){if(E==null)return E;var Z=[],ne=0;return kt(E,Z,"","",function(re){return R.call(Y,re,ne++)}),Z}function et(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var we={current:null},L={transition:null},$={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:L,ReactCurrentOwner:Ye};function z(){throw Error("act(...) is not supported in production builds of React.")}return q.Children={map:Ft,forEach:function(E,R,Y){Ft(E,function(){R.apply(this,arguments)},Y)},count:function(E){var R=0;return Ft(E,function(){R++}),R},toArray:function(E){return Ft(E,function(R){return R})||[]},only:function(E){if(!bt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},q.Component=K,q.Fragment=r,q.Profiler=u,q.PureComponent=Ge,q.StrictMode=o,q.Suspense=m,q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,q.act=z,q.cloneElement=function(E,R,Y){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var Z=U({},E.props),ne=E.key,re=E.ref,ae=E._owner;if(R!=null){if(R.ref!==void 0&&(re=R.ref,ae=Ye.current),R.key!==void 0&&(ne=""+R.key),E.type&&E.type.defaultProps)var oe=E.type.defaultProps;for(ge in R)St.call(R,ge)&&!Ze.hasOwnProperty(ge)&&(Z[ge]=R[ge]===void 0&&oe!==void 0?oe[ge]:R[ge])}var ge=arguments.length-2;if(ge===1)Z.children=Y;else if(1<ge){oe=Array(ge);for(var ct=0;ct<ge;ct++)oe[ct]=arguments[ct+2];Z.children=oe}return{$$typeof:i,type:E.type,key:ne,ref:re,props:Z,_owner:ae}},q.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},q.createElement=mt,q.createFactory=function(E){var R=mt.bind(null,E);return R.type=E,R},q.createRef=function(){return{current:null}},q.forwardRef=function(E){return{$$typeof:p,render:E}},q.isValidElement=bt,q.lazy=function(E){return{$$typeof:k,_payload:{_status:-1,_result:E},_init:et}},q.memo=function(E,R){return{$$typeof:_,type:E,compare:R===void 0?null:R}},q.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},q.unstable_act=z,q.useCallback=function(E,R){return we.current.useCallback(E,R)},q.useContext=function(E){return we.current.useContext(E)},q.useDebugValue=function(){},q.useDeferredValue=function(E){return we.current.useDeferredValue(E)},q.useEffect=function(E,R){return we.current.useEffect(E,R)},q.useId=function(){return we.current.useId()},q.useImperativeHandle=function(E,R,Y){return we.current.useImperativeHandle(E,R,Y)},q.useInsertionEffect=function(E,R){return we.current.useInsertionEffect(E,R)},q.useLayoutEffect=function(E,R){return we.current.useLayoutEffect(E,R)},q.useMemo=function(E,R){return we.current.useMemo(E,R)},q.useReducer=function(E,R,Y){return we.current.useReducer(E,R,Y)},q.useRef=function(E){return we.current.useRef(E)},q.useState=function(E){return we.current.useState(E)},q.useSyncExternalStore=function(E,R,Y){return we.current.useSyncExternalStore(E,R,Y)},q.useTransition=function(){return we.current.useTransition()},q.version="18.3.1",q}var ih;function Ca(){return ih||(ih=1,Wu.exports=P_()),Wu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function D_(){if(sh)return Ni;sh=1;var i=Ca(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,w={},I=null,O=null;_!==void 0&&(I=""+_),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(k in m)o.call(m,k)&&!c.hasOwnProperty(k)&&(w[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)w[k]===void 0&&(w[k]=m[k]);return{$$typeof:t,type:p,key:I,ref:O,props:w,_owner:u.current}}return Ni.Fragment=r,Ni.jsx=f,Ni.jsxs=f,Ni}var oh;function A_(){return oh||(oh=1,Bu.exports=D_()),Bu.exports}var Oe=A_(),Gn=Ca();const op=x_(Gn);var co={},ju={exports:{}},ot={},Hu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function O_(){return lh||(lh=1,function(i){function t(L,$){var z=L.length;L.push($);e:for(;0<z;){var E=z-1>>>1,R=L[E];if(0<u(R,$))L[E]=$,L[z]=R,z=E;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var $=L[0],z=L.pop();if(z!==$){L[0]=z;e:for(var E=0,R=L.length,Y=R>>>1;E<Y;){var Z=2*(E+1)-1,ne=L[Z],re=Z+1,ae=L[re];if(0>u(ne,z))re<R&&0>u(ae,ne)?(L[E]=ae,L[re]=z,E=re):(L[E]=ne,L[Z]=z,E=Z);else if(re<R&&0>u(ae,z))L[E]=ae,L[re]=z,E=re;else break e}}return $}function u(L,$){var z=L.sortIndex-$.sortIndex;return z!==0?z:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,w=null,I=3,O=!1,U=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,Ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ke(L){for(var $=r(_);$!==null;){if($.callback===null)o(_);else if($.startTime<=L)o(_),$.sortIndex=$.expirationTime,t(m,$);else break;$=r(_)}}function xe(L){if(H=!1,Ke(L),!U)if(r(m)!==null)U=!0,et(St);else{var $=r(_);$!==null&&we(xe,$.startTime-L)}}function St(L,$){U=!1,H&&(H=!1,He(mt),mt=-1),O=!0;var z=I;try{for(Ke($),w=r(m);w!==null&&(!(w.expirationTime>$)||L&&!Dn());){var E=w.callback;if(typeof E=="function"){w.callback=null,I=w.priorityLevel;var R=E(w.expirationTime<=$);$=i.unstable_now(),typeof R=="function"?w.callback=R:w===r(m)&&o(m),Ke($)}else o(m);w=r(m)}if(w!==null)var Y=!0;else{var Z=r(_);Z!==null&&we(xe,Z.startTime-$),Y=!1}return Y}finally{w=null,I=z,O=!1}}var Ye=!1,Ze=null,mt=-1,rn=5,bt=-1;function Dn(){return!(i.unstable_now()-bt<rn)}function Mt(){if(Ze!==null){var L=i.unstable_now();bt=L;var $=!0;try{$=Ze(!0,L)}finally{$?at():(Ye=!1,Ze=null)}}else Ye=!1}var at;if(typeof Ge=="function")at=function(){Ge(Mt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Ft=kt.port2;kt.port1.onmessage=Mt,at=function(){Ft.postMessage(null)}}else at=function(){K(Mt,0)};function et(L){Ze=L,Ye||(Ye=!0,at())}function we(L,$){mt=K(function(){L(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){U||O||(U=!0,et(St))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rn=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(I){case 1:case 2:case 3:var $=3;break;default:$=I}var z=I;I=$;try{return L()}finally{I=z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=I;I=L;try{return $()}finally{I=z}},i.unstable_scheduleCallback=function(L,$,z){var E=i.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?E+z:E):z=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,L={id:k++,callback:$,priorityLevel:L,startTime:z,expirationTime:R,sortIndex:-1},z>E?(L.sortIndex=z,t(_,L),r(m)===null&&L===r(_)&&(H?(He(mt),mt=-1):H=!0,we(xe,z-E))):(L.sortIndex=R,t(m,L),U||O||(U=!0,et(St))),L},i.unstable_shouldYield=Dn,i.unstable_wrapCallback=function(L){var $=I;return function(){var z=I;I=$;try{return L.apply(this,arguments)}finally{I=z}}}}(Vu)),Vu}var uh;function L_(){return uh||(uh=1,Hu.exports=O_()),Hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function M_(){if(ah)return ot;ah=1;var i=Ca(),t=L_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},w={};function I(e){return m.call(w,e)?!0:m.call(k,e)?!1:_.test(e)?w[e]=!0:(k[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,a,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var He=/[\-:]([a-z])/g;function Ge(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(He,Ge);K[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(He,Ge);K[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(He,Ge);K[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ke(e,n,s,l){var a=K.hasOwnProperty(n)?K[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(U(n,s,a,l)&&(s=null),l||a===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,St=Symbol.for("react.element"),Ye=Symbol.for("react.portal"),Ze=Symbol.for("react.fragment"),mt=Symbol.for("react.strict_mode"),rn=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),Dn=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),L=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var Y=!1;function Z(e,n){if(!e||Y)return"";Y=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var a=T.stack.split(`
`),d=l.stack.split(`
`),h=a.length-1,g=d.length-1;1<=h&&0<=g&&a[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(a[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||a[h]!==d[g]){var y=`
`+a[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{Y=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ne(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1),e;case 11:return e=Z(e.type.render,!1),e;case 1:return e=Z(e.type,!0),e;default:return""}}function re(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ze:return"Fragment";case Ye:return"Portal";case rn:return"Profiler";case mt:return"StrictMode";case at:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dn:return(e.displayName||"Context")+".Consumer";case bt:return(e._context.displayName||"Context")+".Provider";case Mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ft:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case et:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}function ae(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(n);case 8:return n===mt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ct(e){var n=ge(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function es(e){e._valueTracker||(e._valueTracker=ct(e))}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ge(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $o(e,n){var s=n.checked;return z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ac(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=oe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function cc(e,n){n=n.checked,n!=null&&Ke(e,"checked",n,!1)}function Qo(e,n){cc(e,n);var s=oe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Go(e,n.type,s):n.hasOwnProperty("defaultValue")&&Go(e,n.type,oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function dc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Go(e,n,s){(n!=="number"||ts(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Hr=Array.isArray;function tr(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+oe(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Ko(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Hr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:oe(s)}}function hc(e,n){var s=oe(n.value),l=oe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function pc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?mc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Vr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){Am.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),br[n]=br[e]})});function _c(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||br.hasOwnProperty(e)&&br[e]?(""+n).trim():n+"px"}function yc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=_c(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var Om=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(e,n){if(n){if(Om[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Xo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,nr=null,rr=null;function vc(e){if(e=fi(e)){if(typeof el!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Is(n),el(e.stateNode,e.type,n))}}function wc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function Ec(){if(nr){var e=nr,n=rr;if(rr=nr=null,vc(e),n)for(e=0;e<n.length;e++)vc(n[e])}}function Cc(e,n){return e(n)}function Sc(){}var tl=!1;function kc(e,n,s){if(tl)return e(n,s);tl=!0;try{return Cc(e,n,s)}finally{tl=!1,(nr!==null||rr!==null)&&(Sc(),Ec())}}function $r(e,n){var s=e.stateNode;if(s===null)return null;var l=Is(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var nl=!1;if(p)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{nl=!1}function Lm(e,n,s,l,a,d,h,g,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(x){this.onError(x)}}var Gr=!1,rs=null,is=!1,rl=null,Mm={onError:function(e){Gr=!0,rs=e}};function Fm(e,n,s,l,a,d,h,g,y){Gr=!1,rs=null,Lm.apply(Mm,arguments)}function zm(e,n,s,l,a,d,h,g,y){if(Fm.apply(this,arguments),Gr){if(Gr){var T=rs;Gr=!1,rs=null}else throw Error(r(198));is||(is=!0,rl=T)}}function An(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ic(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Tc(e){if(An(e)!==e)throw Error(r(188))}function Um(e){var n=e.alternate;if(!n){if(n=An(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var d=a.alternate;if(d===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===s)return Tc(a),e;if(d===l)return Tc(a),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=d;else{for(var h=!1,g=a.child;g;){if(g===s){h=!0,s=a,l=d;break}if(g===l){h=!0,l=a,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=a;break}if(g===l){h=!0,l=d,s=a;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Nc(e){return e=Um(e),e!==null?Rc(e):null}function Rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Rc(e);if(n!==null)return n;e=e.sibling}return null}var xc=t.unstable_scheduleCallback,Pc=t.unstable_cancelCallback,Bm=t.unstable_shouldYield,Wm=t.unstable_requestPaint,ke=t.unstable_now,jm=t.unstable_getCurrentPriorityLevel,il=t.unstable_ImmediatePriority,Dc=t.unstable_UserBlockingPriority,ss=t.unstable_NormalPriority,Hm=t.unstable_LowPriority,Ac=t.unstable_IdlePriority,os=null,zt=null;function Vm(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:Qm,bm=Math.log,$m=Math.LN2;function Qm(e){return e>>>=0,e===0?32:31-(bm(e)/$m|0)|0}var ls=64,us=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function as(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~a;g!==0?l=Kr(g):(d&=h,d!==0&&(l=Kr(d)))}else h=s&~a,h!==0?l=Kr(h):d!==0&&(l=Kr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,d=n&-n,a>=d||a===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-It(n),a=1<<s,l|=e[s],n&=~a;return l}function Gm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-It(d),g=1<<h,y=a[h];y===-1?(!(g&s)||g&l)&&(a[h]=Gm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=ls;return ls<<=1,!(ls&4194240)&&(ls=64),e}function ol(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Yr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-It(n),e[n]=s}function Ym(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-It(s),d=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~d}}function ll(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-It(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var le=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mc,ul,Fc,zc,Uc,al=!1,cs=[],sn=null,on=null,ln=null,qr=new Map,Xr=new Map,un=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bc(e,n){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":qr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(n.pointerId)}}function Jr(e,n,s,l,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[a]},n!==null&&(n=fi(n),n!==null&&ul(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function Xm(e,n,s,l,a){switch(n){case"focusin":return sn=Jr(sn,e,n,s,l,a),!0;case"dragenter":return on=Jr(on,e,n,s,l,a),!0;case"mouseover":return ln=Jr(ln,e,n,s,l,a),!0;case"pointerover":var d=a.pointerId;return qr.set(d,Jr(qr.get(d)||null,e,n,s,l,a)),!0;case"gotpointercapture":return d=a.pointerId,Xr.set(d,Jr(Xr.get(d)||null,e,n,s,l,a)),!0}return!1}function Wc(e){var n=On(e.target);if(n!==null){var s=An(n);if(s!==null){if(n=s.tag,n===13){if(n=Ic(s),n!==null){e.blockedOn=n,Uc(e.priority,function(){Fc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=dl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Jo=l,s.target.dispatchEvent(l),Jo=null}else return n=fi(s),n!==null&&ul(n),e.blockedOn=s,!1;n.shift()}return!0}function jc(e,n,s){ds(e)&&s.delete(n)}function Jm(){al=!1,sn!==null&&ds(sn)&&(sn=null),on!==null&&ds(on)&&(on=null),ln!==null&&ds(ln)&&(ln=null),qr.forEach(jc),Xr.forEach(jc)}function Zr(e,n){e.blockedOn===n&&(e.blockedOn=null,al||(al=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Jm)))}function ei(e){function n(a){return Zr(a,e)}if(0<cs.length){Zr(cs[0],e);for(var s=1;s<cs.length;s++){var l=cs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(sn!==null&&Zr(sn,e),on!==null&&Zr(on,e),ln!==null&&Zr(ln,e),qr.forEach(n),Xr.forEach(n),s=0;s<un.length;s++)l=un[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<un.length&&(s=un[0],s.blockedOn===null);)Wc(s),s.blockedOn===null&&un.shift()}var ir=xe.ReactCurrentBatchConfig,fs=!0;function Zm(e,n,s,l){var a=le,d=ir.transition;ir.transition=null;try{le=1,cl(e,n,s,l)}finally{le=a,ir.transition=d}}function eg(e,n,s,l){var a=le,d=ir.transition;ir.transition=null;try{le=4,cl(e,n,s,l)}finally{le=a,ir.transition=d}}function cl(e,n,s,l){if(fs){var a=dl(e,n,s,l);if(a===null)Rl(e,n,l,hs,s),Bc(e,l);else if(Xm(a,e,n,s,l))l.stopPropagation();else if(Bc(e,l),n&4&&-1<qm.indexOf(e)){for(;a!==null;){var d=fi(a);if(d!==null&&Mc(d),d=dl(e,n,s,l),d===null&&Rl(e,n,l,hs,s),d===a)break;a=d}a!==null&&l.stopPropagation()}else Rl(e,n,l,null,s)}}var hs=null;function dl(e,n,s,l){if(hs=null,e=Zo(l),e=On(e),e!==null)if(n=An(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Ic(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return hs=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case il:return 1;case Dc:return 4;case ss:case Hm:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var an=null,fl=null,ps=null;function Vc(){if(ps)return ps;var e,n=fl,s=n.length,l,a="value"in an?an.value:an.textContent,d=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[d-l];l++);return ps=a.slice(e,1<l?1-l:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function bc(){return!1}function dt(e){function n(s,l,a,d,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?gs:bc,this.isPropagationStopped=bc,this}return z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=dt(sr),ti=z({},sr,{view:0,detail:0}),tg=dt(ti),pl,ml,ni,_s=z({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(pl=e.screenX-ni.screenX,ml=e.screenY-ni.screenY):ml=pl=0,ni=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),$c=dt(_s),ng=z({},_s,{dataTransfer:0}),rg=dt(ng),ig=z({},ti,{relatedTarget:0}),gl=dt(ig),sg=z({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),og=dt(sg),lg=z({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=dt(lg),ag=z({},sr,{data:0}),Qc=dt(ag),cg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fg[e])?!!n[e]:!1}function _l(){return hg}var pg=z({},ti,{key:function(e){if(e.key){var n=cg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mg=dt(pg),gg=z({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=dt(gg),_g=z({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),yg=dt(_g),vg=z({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=dt(vg),Eg=z({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cg=dt(Eg),Sg=[9,13,27,32],yl=p&&"CompositionEvent"in window,ri=null;p&&"documentMode"in document&&(ri=document.documentMode);var kg=p&&"TextEvent"in window&&!ri,Kc=p&&(!yl||ri&&8<ri&&11>=ri),Yc=" ",qc=!1;function Xc(e,n){switch(e){case"keyup":return Sg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function Ig(e,n){switch(e){case"compositionend":return Jc(n);case"keypress":return n.which!==32?null:(qc=!0,Yc);case"textInput":return e=n.data,e===Yc&&qc?null:e;default:return null}}function Tg(e,n){if(or)return e==="compositionend"||!yl&&Xc(e,n)?(e=Vc(),ps=fl=an=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kc&&n.locale!=="ko"?null:n.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ng[e.type]:n==="textarea"}function ed(e,n,s,l){wc(l),n=Cs(n,"onChange"),0<n.length&&(s=new hl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ii=null,si=null;function Rg(e){yd(e,0)}function ys(e){var n=dr(e);if(uc(n))return e}function xg(e,n){if(e==="change")return n}var td=!1;if(p){var vl;if(p){var wl="oninput"in document;if(!wl){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),wl=typeof nd.oninput=="function"}vl=wl}else vl=!1;td=vl&&(!document.documentMode||9<document.documentMode)}function rd(){ii&&(ii.detachEvent("onpropertychange",id),si=ii=null)}function id(e){if(e.propertyName==="value"&&ys(si)){var n=[];ed(n,si,e,Zo(e)),kc(Rg,n)}}function Pg(e,n,s){e==="focusin"?(rd(),ii=n,si=s,ii.attachEvent("onpropertychange",id)):e==="focusout"&&rd()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ys(si)}function Ag(e,n){if(e==="click")return ys(n)}function Og(e,n){if(e==="input"||e==="change")return ys(n)}function Lg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:Lg;function oi(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Tt(e[a],n[a]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,n){var s=sd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sd(s)}}function ld(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ld(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ud(){for(var e=window,n=ts();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ts(e.document)}return n}function El(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Mg(e){var n=ud(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&ld(s.ownerDocument.documentElement,s)){if(l!==null&&El(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,d=Math.min(l.start,a);l=l.end===void 0?d:Math.min(l.end,a),!e.extend&&d>l&&(a=l,l=d,d=a),a=od(s,d);var h=od(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=p&&"documentMode"in document&&11>=document.documentMode,lr=null,Cl=null,li=null,Sl=!1;function ad(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sl||lr==null||lr!==ts(l)||(l=lr,"selectionStart"in l&&El(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),li&&oi(li,l)||(li=l,l=Cs(Cl,"onSelect"),0<l.length&&(n=new hl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function vs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ur={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},kl={},cd={};p&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function ws(e){if(kl[e])return kl[e];if(!ur[e])return e;var n=ur[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cd)return kl[e]=n[s];return e}var dd=ws("animationend"),fd=ws("animationiteration"),hd=ws("animationstart"),pd=ws("transitionend"),md=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,n){md.set(e,n),c(n,[e])}for(var Il=0;Il<gd.length;Il++){var Tl=gd[Il],zg=Tl.toLowerCase(),Ug=Tl[0].toUpperCase()+Tl.slice(1);cn(zg,"on"+Ug)}cn(dd,"onAnimationEnd"),cn(fd,"onAnimationIteration"),cn(hd,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(pd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function _d(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,zm(l,n,void 0,e),e.currentTarget=null}function yd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,T=g.currentTarget;if(g=g.listener,y!==d&&a.isPropagationStopped())break e;_d(a,g,T),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,T=g.currentTarget,g=g.listener,y!==d&&a.isPropagationStopped())break e;_d(a,g,T),d=y}}}if(is)throw e=rl,is=!1,rl=null,e}function pe(e,n){var s=n[Ll];s===void 0&&(s=n[Ll]=new Set);var l=e+"__bubble";s.has(l)||(vd(n,e,2,!1),s.add(l))}function Nl(e,n,s){var l=0;n&&(l|=4),vd(s,e,l,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[Es]){e[Es]=!0,o.forEach(function(s){s!=="selectionchange"&&(Bg.has(s)||Nl(s,!1,e),Nl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,Nl("selectionchange",!1,n))}}function vd(e,n,s,l){switch(Hc(n)){case 1:var a=Zm;break;case 4:a=eg;break;default:a=cl}s=a.bind(null,n,s,e),a=void 0,!nl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Rl(e,n,s,l,a){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;h=h.return}for(;g!==null;){if(h=On(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}kc(function(){var T=d,x=Zo(s),P=[];e:{var N=md.get(e);if(N!==void 0){var M=hl,B=e;switch(e){case"keypress":if(ms(s)===0)break e;case"keydown":case"keyup":M=mg;break;case"focusin":B="focus",M=gl;break;case"focusout":B="blur",M=gl;break;case"beforeblur":case"afterblur":M=gl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=yg;break;case dd:case fd:case hd:M=og;break;case pd:M=wg;break;case"scroll":M=tg;break;case"wheel":M=Cg;break;case"copy":case"cut":case"paste":M=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Gc}var W=(n&4)!==0,Ie=!W&&e==="scroll",C=W?N!==null?N+"Capture":null:N;W=[];for(var v=T,S;v!==null;){S=v;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,C!==null&&(D=$r(v,C),D!=null&&W.push(ci(v,D,S)))),Ie)break;v=v.return}0<W.length&&(N=new M(N,B,null,s,x),P.push({event:N,listeners:W}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&s!==Jo&&(B=s.relatedTarget||s.fromElement)&&(On(B)||B[$t]))break e;if((M||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,M?(B=s.relatedTarget||s.toElement,M=T,B=B?On(B):null,B!==null&&(Ie=An(B),B!==Ie||B.tag!==5&&B.tag!==6)&&(B=null)):(M=null,B=T),M!==B)){if(W=$c,D="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(W=Gc,D="onPointerLeave",C="onPointerEnter",v="pointer"),Ie=M==null?N:dr(M),S=B==null?N:dr(B),N=new W(D,v+"leave",M,s,x),N.target=Ie,N.relatedTarget=S,D=null,On(x)===T&&(W=new W(C,v+"enter",B,s,x),W.target=S,W.relatedTarget=Ie,D=W),Ie=D,M&&B)t:{for(W=M,C=B,v=0,S=W;S;S=ar(S))v++;for(S=0,D=C;D;D=ar(D))S++;for(;0<v-S;)W=ar(W),v--;for(;0<S-v;)C=ar(C),S--;for(;v--;){if(W===C||C!==null&&W===C.alternate)break t;W=ar(W),C=ar(C)}W=null}else W=null;M!==null&&wd(P,N,M,W,!1),B!==null&&Ie!==null&&wd(P,Ie,B,W,!0)}}e:{if(N=T?dr(T):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var j=xg;else if(Zc(N))if(td)j=Og;else{j=Dg;var V=Pg}else(M=N.nodeName)&&M.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(j=Ag);if(j&&(j=j(e,T))){ed(P,j,s,x);break e}V&&V(e,N,T),e==="focusout"&&(V=N._wrapperState)&&V.controlled&&N.type==="number"&&Go(N,"number",N.value)}switch(V=T?dr(T):window,e){case"focusin":(Zc(V)||V.contentEditable==="true")&&(lr=V,Cl=T,li=null);break;case"focusout":li=Cl=lr=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,ad(P,s,x);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":ad(P,s,x)}var b;if(yl)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else or?Xc(e,s)&&(G="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(G="onCompositionStart");G&&(Kc&&s.locale!=="ko"&&(or||G!=="onCompositionStart"?G==="onCompositionEnd"&&or&&(b=Vc()):(an=x,fl="value"in an?an.value:an.textContent,or=!0)),V=Cs(T,G),0<V.length&&(G=new Qc(G,e,null,s,x),P.push({event:G,listeners:V}),b?G.data=b:(b=Jc(s),b!==null&&(G.data=b)))),(b=kg?Ig(e,s):Tg(e,s))&&(T=Cs(T,"onBeforeInput"),0<T.length&&(x=new Qc("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:T}),x.data=b))}yd(P,n)})}function ci(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Cs(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=$r(e,s),d!=null&&l.unshift(ci(e,d,a)),d=$r(e,n),d!=null&&l.push(ci(e,d,a))),e=e.return}return l}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,n,s,l,a){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,T=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&T!==null&&(g=T,a?(y=$r(s,d),y!=null&&h.unshift(ci(s,y,g))):a||(y=$r(s,d),y!=null&&h.push(ci(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Wg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Wg,`
`).replace(jg,"")}function Ss(e,n,s){if(n=Ed(n),Ed(e)!==n&&s)throw Error(r(425))}function ks(){}var xl=null,Pl=null;function Dl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,Hg=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(bg)}:Al;function bg(e){setTimeout(function(){throw e})}function Ol(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),ei(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);ei(n)}function dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Ut="__reactFiber$"+cr,di="__reactProps$"+cr,$t="__reactContainer$"+cr,Ll="__reactEvents$"+cr,$g="__reactListeners$"+cr,Qg="__reactHandles$"+cr;function On(e){var n=e[Ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[$t]||s[Ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sd(e);e!==null;){if(s=e[Ut])return s;e=Sd(e)}return n}e=s,s=e.parentNode}return null}function fi(e){return e=e[Ut]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Is(e){return e[di]||null}var Ml=[],fr=-1;function fn(e){return{current:e}}function me(e){0>fr||(e.current=Ml[fr],Ml[fr]=null,fr--)}function ce(e,n){fr++,Ml[fr]=e.current,e.current=n}var hn={},Ve=fn(hn),tt=fn(!1),Ln=hn;function hr(e,n){var s=e.type.contextTypes;if(!s)return hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in s)a[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function nt(e){return e=e.childContextTypes,e!=null}function Ts(){me(tt),me(Ve)}function kd(e,n,s){if(Ve.current!==hn)throw Error(r(168));ce(Ve,n),ce(tt,s)}function Id(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,ae(e)||"Unknown",a));return z({},s,l)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Ln=Ve.current,ce(Ve,e),ce(tt,tt.current),!0}function Td(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Id(e,n,Ln),l.__reactInternalMemoizedMergedChildContext=e,me(tt),me(Ve),ce(Ve,e)):me(tt),ce(tt,s)}var Qt=null,Rs=!1,Fl=!1;function Nd(e){Qt===null?Qt=[e]:Qt.push(e)}function Gg(e){Rs=!0,Nd(e)}function pn(){if(!Fl&&Qt!==null){Fl=!0;var e=0,n=le;try{var s=Qt;for(le=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Qt=null,Rs=!1}catch(a){throw Qt!==null&&(Qt=Qt.slice(e+1)),xc(il,pn),a}finally{le=n,Fl=!1}}return null}var pr=[],mr=0,xs=null,Ps=0,gt=[],_t=0,Mn=null,Gt=1,Kt="";function Fn(e,n){pr[mr++]=Ps,pr[mr++]=xs,xs=e,Ps=n}function Rd(e,n,s){gt[_t++]=Gt,gt[_t++]=Kt,gt[_t++]=Mn,Mn=e;var l=Gt;e=Kt;var a=32-It(l)-1;l&=~(1<<a),s+=1;var d=32-It(n)+a;if(30<d){var h=a-a%5;d=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Gt=1<<32-It(n)+a|s<<a|l,Kt=d+e}else Gt=1<<d|s<<a|l,Kt=e}function zl(e){e.return!==null&&(Fn(e,1),Rd(e,1,0))}function Ul(e){for(;e===xs;)xs=pr[--mr],pr[mr]=null,Ps=pr[--mr],pr[mr]=null;for(;e===Mn;)Mn=gt[--_t],gt[_t]=null,Kt=gt[--_t],gt[_t]=null,Gt=gt[--_t],gt[_t]=null}var ft=null,ht=null,_e=!1,Nt=null;function xd(e,n){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Pd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ft=e,ht=dn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ft=e,ht=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Mn!==null?{id:Gt,overflow:Kt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,ft=e,ht=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if(_e){var n=ht;if(n){var s=n;if(!Pd(e,n)){if(Bl(e))throw Error(r(418));n=dn(s.nextSibling);var l=ft;n&&Pd(e,n)?xd(l,s):(e.flags=e.flags&-4097|2,_e=!1,ft=e)}}else{if(Bl(e))throw Error(r(418));e.flags=e.flags&-4097|2,_e=!1,ft=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Ds(e){if(e!==ft)return!1;if(!_e)return Dd(e),_e=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Dl(e.type,e.memoizedProps)),n&&(n=ht)){if(Bl(e))throw Ad(),Error(r(418));for(;n;)xd(e,n),n=dn(n.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){ht=dn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}ht=null}}else ht=ft?dn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=ht;e;)e=dn(e.nextSibling)}function gr(){ht=ft=null,_e=!1}function jl(e){Nt===null?Nt=[e]:Nt.push(e)}var Kg=xe.ReactCurrentBatchConfig;function hi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=a.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function As(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Od(e){var n=e._init;return n(e._payload)}function Ld(e){function n(C,v){if(e){var S=C.deletions;S===null?(C.deletions=[v],C.flags|=16):S.push(v)}}function s(C,v){if(!e)return null;for(;v!==null;)n(C,v),v=v.sibling;return null}function l(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function a(C,v){return C=Cn(C,v),C.index=0,C.sibling=null,C}function d(C,v,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<v?(C.flags|=2,v):S):(C.flags|=2,v)):(C.flags|=1048576,v)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,v,S,D){return v===null||v.tag!==6?(v=Au(S,C.mode,D),v.return=C,v):(v=a(v,S),v.return=C,v)}function y(C,v,S,D){var j=S.type;return j===Ze?x(C,v,S.props.children,D,S.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===et&&Od(j)===v.type)?(D=a(v,S.props),D.ref=hi(C,v,S),D.return=C,D):(D=no(S.type,S.key,S.props,null,C.mode,D),D.ref=hi(C,v,S),D.return=C,D)}function T(C,v,S,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Ou(S,C.mode,D),v.return=C,v):(v=a(v,S.children||[]),v.return=C,v)}function x(C,v,S,D,j){return v===null||v.tag!==7?(v=bn(S,C.mode,D,j),v.return=C,v):(v=a(v,S),v.return=C,v)}function P(C,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Au(""+v,C.mode,S),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case St:return S=no(v.type,v.key,v.props,null,C.mode,S),S.ref=hi(C,null,v),S.return=C,S;case Ye:return v=Ou(v,C.mode,S),v.return=C,v;case et:var D=v._init;return P(C,D(v._payload),S)}if(Hr(v)||$(v))return v=bn(v,C.mode,S,null),v.return=C,v;As(C,v)}return null}function N(C,v,S,D){var j=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:g(C,v,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case St:return S.key===j?y(C,v,S,D):null;case Ye:return S.key===j?T(C,v,S,D):null;case et:return j=S._init,N(C,v,j(S._payload),D)}if(Hr(S)||$(S))return j!==null?null:x(C,v,S,D,null);As(C,S)}return null}function M(C,v,S,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(S)||null,g(v,C,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case St:return C=C.get(D.key===null?S:D.key)||null,y(v,C,D,j);case Ye:return C=C.get(D.key===null?S:D.key)||null,T(v,C,D,j);case et:var V=D._init;return M(C,v,S,V(D._payload),j)}if(Hr(D)||$(D))return C=C.get(S)||null,x(v,C,D,j,null);As(v,D)}return null}function B(C,v,S,D){for(var j=null,V=null,b=v,G=v=0,Ae=null;b!==null&&G<S.length;G++){b.index>G?(Ae=b,b=null):Ae=b.sibling;var ie=N(C,b,S[G],D);if(ie===null){b===null&&(b=Ae);break}e&&b&&ie.alternate===null&&n(C,b),v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie,b=Ae}if(G===S.length)return s(C,b),_e&&Fn(C,G),j;if(b===null){for(;G<S.length;G++)b=P(C,S[G],D),b!==null&&(v=d(b,v,G),V===null?j=b:V.sibling=b,V=b);return _e&&Fn(C,G),j}for(b=l(C,b);G<S.length;G++)Ae=M(b,C,G,S[G],D),Ae!==null&&(e&&Ae.alternate!==null&&b.delete(Ae.key===null?G:Ae.key),v=d(Ae,v,G),V===null?j=Ae:V.sibling=Ae,V=Ae);return e&&b.forEach(function(Sn){return n(C,Sn)}),_e&&Fn(C,G),j}function W(C,v,S,D){var j=$(S);if(typeof j!="function")throw Error(r(150));if(S=j.call(S),S==null)throw Error(r(151));for(var V=j=null,b=v,G=v=0,Ae=null,ie=S.next();b!==null&&!ie.done;G++,ie=S.next()){b.index>G?(Ae=b,b=null):Ae=b.sibling;var Sn=N(C,b,ie.value,D);if(Sn===null){b===null&&(b=Ae);break}e&&b&&Sn.alternate===null&&n(C,b),v=d(Sn,v,G),V===null?j=Sn:V.sibling=Sn,V=Sn,b=Ae}if(ie.done)return s(C,b),_e&&Fn(C,G),j;if(b===null){for(;!ie.done;G++,ie=S.next())ie=P(C,ie.value,D),ie!==null&&(v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie);return _e&&Fn(C,G),j}for(b=l(C,b);!ie.done;G++,ie=S.next())ie=M(b,C,G,ie.value,D),ie!==null&&(e&&ie.alternate!==null&&b.delete(ie.key===null?G:ie.key),v=d(ie,v,G),V===null?j=ie:V.sibling=ie,V=ie);return e&&b.forEach(function(T_){return n(C,T_)}),_e&&Fn(C,G),j}function Ie(C,v,S,D){if(typeof S=="object"&&S!==null&&S.type===Ze&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case St:e:{for(var j=S.key,V=v;V!==null;){if(V.key===j){if(j=S.type,j===Ze){if(V.tag===7){s(C,V.sibling),v=a(V,S.props.children),v.return=C,C=v;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===et&&Od(j)===V.type){s(C,V.sibling),v=a(V,S.props),v.ref=hi(C,V,S),v.return=C,C=v;break e}s(C,V);break}else n(C,V);V=V.sibling}S.type===Ze?(v=bn(S.props.children,C.mode,D,S.key),v.return=C,C=v):(D=no(S.type,S.key,S.props,null,C.mode,D),D.ref=hi(C,v,S),D.return=C,C=D)}return h(C);case Ye:e:{for(V=S.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){s(C,v.sibling),v=a(v,S.children||[]),v.return=C,C=v;break e}else{s(C,v);break}else n(C,v);v=v.sibling}v=Ou(S,C.mode,D),v.return=C,C=v}return h(C);case et:return V=S._init,Ie(C,v,V(S._payload),D)}if(Hr(S))return B(C,v,S,D);if($(S))return W(C,v,S,D);As(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(s(C,v.sibling),v=a(v,S),v.return=C,C=v):(s(C,v),v=Au(S,C.mode,D),v.return=C,C=v),h(C)):s(C,v)}return Ie}var _r=Ld(!0),Md=Ld(!1),Os=fn(null),Ls=null,yr=null,Hl=null;function Vl(){Hl=yr=Ls=null}function bl(e){var n=Os.current;me(Os),e._currentValue=n}function $l(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vr(e,n){Ls=e,Hl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(rt=!0),e.firstContext=null)}function yt(e){var n=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:n,next:null},yr===null){if(Ls===null)throw Error(r(308));yr=e,Ls.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return n}var zn=null;function Ql(e){zn===null?zn=[e]:zn.push(e)}function Fd(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,Ql(n)):(s.next=a.next,a.next=s),n.interleaved=s,Yt(e,l)}function Yt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mn=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function gn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,Yt(e,s)}return a=l.interleaved,a===null?(n.next=n,Ql(l)):(n.next=a.next,a.next=n),l.interleaved=n,Yt(e,s)}function Ms(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}function Ud(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?a=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?a=d=n:d=d.next=n}else a=d=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Fs(e,n,s,l){var a=e.updateQueue;mn=!1;var d=a.firstBaseUpdate,h=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var y=g,T=y.next;y.next=null,h===null?d=T:h.next=T,h=y;var x=e.alternate;x!==null&&(x=x.updateQueue,g=x.lastBaseUpdate,g!==h&&(g===null?x.firstBaseUpdate=T:g.next=T,x.lastBaseUpdate=y))}if(d!==null){var P=a.baseState;h=0,x=T=y=null,g=d;do{var N=g.lane,M=g.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:M,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var B=e,W=g;switch(N=n,M=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){P=B.call(M,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(M,P,N):B,N==null)break e;P=z({},P,N);break e;case 2:mn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[g]:N.push(g))}else M={eventTime:M,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},x===null?(T=x=M,y=P):x=x.next=M,h|=N;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;N=g,g=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(y=P),a.baseState=y,a.firstBaseUpdate=T,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else d===null&&(a.shared.lanes=0);Wn|=h,e.lanes=h,e.memoizedState=P}}function Bd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var pi={},Bt=fn(pi),mi=fn(pi),gi=fn(pi);function Un(e){if(e===pi)throw Error(r(174));return e}function Kl(e,n){switch(ce(gi,n),ce(mi,e),ce(Bt,pi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Yo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Yo(n,e)}me(Bt),ce(Bt,n)}function wr(){me(Bt),me(mi),me(gi)}function Wd(e){Un(gi.current);var n=Un(Bt.current),s=Yo(n,e.type);n!==s&&(ce(mi,e),ce(Bt,s))}function Yl(e){mi.current===e&&(me(Bt),me(mi))}var ye=fn(0);function zs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ql=[];function Xl(){for(var e=0;e<ql.length;e++)ql[e]._workInProgressVersionPrimary=null;ql.length=0}var Us=xe.ReactCurrentDispatcher,Jl=xe.ReactCurrentBatchConfig,Bn=0,ve=null,Ne=null,Pe=null,Bs=!1,_i=!1,yi=0,Yg=0;function be(){throw Error(r(321))}function Zl(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tt(e[s],n[s]))return!1;return!0}function eu(e,n,s,l,a,d){if(Bn=d,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Us.current=e===null||e.memoizedState===null?Zg:e_,e=s(l,a),_i){d=0;do{if(_i=!1,yi=0,25<=d)throw Error(r(301));d+=1,Pe=Ne=null,n.updateQueue=null,Us.current=t_,e=s(l,a)}while(_i)}if(Us.current=Hs,n=Ne!==null&&Ne.next!==null,Bn=0,Pe=Ne=ve=null,Bs=!1,n)throw Error(r(300));return e}function tu(){var e=yi!==0;return yi=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function vt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Pe===null?ve.memoizedState:Pe.next;if(n!==null)Pe=n,Ne=e;else{if(e===null)throw Error(r(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Pe===null?ve.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function vi(e,n){return typeof n=="function"?n(e):n}function nu(e){var n=vt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Ne,a=l.baseQueue,d=s.pending;if(d!==null){if(a!==null){var h=a.next;a.next=d.next,d.next=h}l.baseQueue=a=d,s.pending=null}if(a!==null){d=a.next,l=l.baseState;var g=h=null,y=null,T=d;do{var x=T.lane;if((Bn&x)===x)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:x,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,ve.lanes|=x,Wn|=x}T=T.next}while(T!==null&&T!==d);y===null?h=l:y.next=g,Tt(l,n.memoizedState)||(rt=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do d=a.lane,ve.lanes|=d,Wn|=d,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ru(e){var n=vt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,d=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do d=e(d,h.action),h=h.next;while(h!==a);Tt(d,n.memoizedState)||(rt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function jd(){}function Hd(e,n){var s=ve,l=vt(),a=n(),d=!Tt(l.memoizedState,a);if(d&&(l.memoizedState=a,rt=!0),l=l.queue,iu($d.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,wi(9,bd.bind(null,s,l,a,n),void 0,null),De===null)throw Error(r(349));Bn&30||Vd(s,n,a)}return a}function Vd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ve.updateQueue,n===null?(n={lastEffect:null,stores:null},ve.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function bd(e,n,s,l){n.value=s,n.getSnapshot=l,Qd(n)&&Gd(e)}function $d(e,n,s){return s(function(){Qd(n)&&Gd(e)})}function Qd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tt(e,s)}catch{return!0}}function Gd(e){var n=Yt(e,1);n!==null&&Dt(n,e,1,-1)}function Kd(e){var n=Wt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},n.queue=e,e=e.dispatch=Jg.bind(null,ve,e),[n.memoizedState,e]}function wi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=ve.updateQueue,n===null?(n={lastEffect:null,stores:null},ve.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Yd(){return vt().memoizedState}function Ws(e,n,s,l){var a=Wt();ve.flags|=e,a.memoizedState=wi(1|n,s,void 0,l===void 0?null:l)}function js(e,n,s,l){var a=vt();l=l===void 0?null:l;var d=void 0;if(Ne!==null){var h=Ne.memoizedState;if(d=h.destroy,l!==null&&Zl(l,h.deps)){a.memoizedState=wi(n,s,d,l);return}}ve.flags|=e,a.memoizedState=wi(1|n,s,d,l)}function qd(e,n){return Ws(8390656,8,e,n)}function iu(e,n){return js(2048,8,e,n)}function Xd(e,n){return js(4,2,e,n)}function Jd(e,n){return js(4,4,e,n)}function Zd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ef(e,n,s){return s=s!=null?s.concat([e]):null,js(4,4,Zd.bind(null,n,e),s)}function su(){}function tf(e,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Zl(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function nf(e,n){var s=vt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&Zl(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function rf(e,n,s){return Bn&21?(Tt(s,n)||(s=Oc(),ve.lanes|=s,Wn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=s)}function qg(e,n){var s=le;le=s!==0&&4>s?s:4,e(!0);var l=Jl.transition;Jl.transition={};try{e(!1),n()}finally{le=s,Jl.transition=l}}function sf(){return vt().memoizedState}function Xg(e,n,s){var l=wn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},of(e))lf(n,s);else if(s=Fd(e,n,s,l),s!==null){var a=Xe();Dt(s,e,l,a),uf(s,n,l)}}function Jg(e,n,s){var l=wn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(of(e))lf(n,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(a.hasEagerState=!0,a.eagerState=g,Tt(g,h)){var y=n.interleaved;y===null?(a.next=a,Ql(n)):(a.next=y.next,y.next=a),n.interleaved=a;return}}catch{}finally{}s=Fd(e,n,a,l),s!==null&&(a=Xe(),Dt(s,e,l,a),uf(s,n,l))}}function of(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function lf(e,n){_i=Bs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function uf(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ll(e,s)}}var Hs={readContext:yt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Zg={readContext:yt,useCallback:function(e,n){return Wt().memoizedState=[e,n===void 0?null:n],e},useContext:yt,useEffect:qd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4194308,4,Zd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ws(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ws(4,2,e,n)},useMemo:function(e,n){var s=Wt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Wt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Xg.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var n=Wt();return e={current:e},n.memoizedState=e},useState:Kd,useDebugValue:su,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Kd(!1),n=e[0];return e=qg.bind(null,e[1]),Wt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=ve,a=Wt();if(_e){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),De===null)throw Error(r(349));Bn&30||Vd(l,n,s)}a.memoizedState=s;var d={value:s,getSnapshot:n};return a.queue=d,qd($d.bind(null,l,d,e),[e]),l.flags|=2048,wi(9,bd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Wt(),n=De.identifierPrefix;if(_e){var s=Kt,l=Gt;s=(l&~(1<<32-It(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=yi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Yg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},e_={readContext:yt,useCallback:tf,useContext:yt,useEffect:iu,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:nu,useRef:Yd,useState:function(){return nu(vi)},useDebugValue:su,useDeferredValue:function(e){var n=vt();return rf(n,Ne.memoizedState,e)},useTransition:function(){var e=nu(vi)[0],n=vt().memoizedState;return[e,n]},useMutableSource:jd,useSyncExternalStore:Hd,useId:sf,unstable_isNewReconciler:!1},t_={readContext:yt,useCallback:tf,useContext:yt,useEffect:iu,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:ru,useRef:Yd,useState:function(){return ru(vi)},useDebugValue:su,useDeferredValue:function(e){var n=vt();return Ne===null?n.memoizedState=e:rf(n,Ne.memoizedState,e)},useTransition:function(){var e=ru(vi)[0],n=vt().memoizedState;return[e,n]},useMutableSource:jd,useSyncExternalStore:Hd,useId:sf,unstable_isNewReconciler:!1};function Rt(e,n){if(e&&e.defaultProps){n=z({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function ou(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:z({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vs={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Xe(),a=wn(e),d=qt(l,a);d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,a),n!==null&&(Dt(n,e,a,l),Ms(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Xe(),a=wn(e),d=qt(l,a);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=gn(e,d,a),n!==null&&(Dt(n,e,a,l),Ms(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xe(),l=wn(e),a=qt(s,l);a.tag=2,n!=null&&(a.callback=n),n=gn(e,a,l),n!==null&&(Dt(n,e,l,s),Ms(n,e,l))}};function af(e,n,s,l,a,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!oi(s,l)||!oi(a,d):!0}function cf(e,n,s){var l=!1,a=hn,d=n.contextType;return typeof d=="object"&&d!==null?d=yt(d):(a=nt(n)?Ln:Ve.current,l=n.contextTypes,d=(l=l!=null)?hr(e,a):hn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),n}function df(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function lu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Gl(e);var d=n.contextType;typeof d=="object"&&d!==null?a.context=yt(d):(d=nt(n)?Ln:Ve.current,a.context=hr(e,d)),a.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(ou(e,n,d,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Vs.enqueueReplaceState(a,a.state,null),Fs(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,n){try{var s="",l=n;do s+=ne(l),l=l.return;while(l);var a=s}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:a,digest:null}}function uu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function au(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function ff(e,n,s){s=qt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){qs||(qs=!0,ku=l),au(e,n)},s}function hf(e,n,s){s=qt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){au(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){au(e,n),typeof l!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function pf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new n_;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=g_.bind(null,e,n,s),n.then(e,e))}function mf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function gf(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=qt(-1,1),n.tag=2,gn(s,n,1))),s.lanes|=1),e)}var r_=xe.ReactCurrentOwner,rt=!1;function qe(e,n,s,l){n.child=e===null?Md(n,null,s,l):_r(n,e.child,s,l)}function _f(e,n,s,l,a){s=s.render;var d=n.ref;return vr(n,a),l=eu(e,n,s,l,d,a),s=tu(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Xt(e,n,a)):(_e&&s&&zl(n),n.flags|=1,qe(e,n,l,a),n.child)}function yf(e,n,s,l,a){if(e===null){var d=s.type;return typeof d=="function"&&!Du(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,vf(e,n,d,l,a)):(e=no(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&a)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:oi,s(h,l)&&e.ref===n.ref)return Xt(e,n,a)}return n.flags|=1,e=Cn(d,l),e.ref=n.ref,e.return=n,n.child=e}function vf(e,n,s,l,a){if(e!==null){var d=e.memoizedProps;if(oi(d,l)&&e.ref===n.ref)if(rt=!1,n.pendingProps=l=d,(e.lanes&a)!==0)e.flags&131072&&(rt=!0);else return n.lanes=e.lanes,Xt(e,n,a)}return cu(e,n,s,l,a)}function wf(e,n,s){var l=n.pendingProps,a=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Sr,pt),pt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ce(Sr,pt),pt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,ce(Sr,pt),pt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,ce(Sr,pt),pt|=l;return qe(e,n,a,s),n.child}function Ef(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function cu(e,n,s,l,a){var d=nt(s)?Ln:Ve.current;return d=hr(n,d),vr(n,a),s=eu(e,n,s,l,d,a),l=tu(),e!==null&&!rt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,Xt(e,n,a)):(_e&&l&&zl(n),n.flags|=1,qe(e,n,s,a),n.child)}function Cf(e,n,s,l,a){if(nt(s)){var d=!0;Ns(n)}else d=!1;if(vr(n,a),n.stateNode===null)$s(e,n),cf(n,s,l),lu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=yt(T):(T=nt(s)?Ln:Ve.current,T=hr(n,T));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==T)&&df(n,h,l,T),mn=!1;var N=n.memoizedState;h.state=N,Fs(n,l,h,a),y=n.memoizedState,g!==l||N!==y||tt.current||mn?(typeof x=="function"&&(ou(n,s,x,l),y=n.memoizedState),(g=mn||af(n,s,g,l,N,y,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,zd(e,n),g=n.memoizedProps,T=n.type===n.elementType?g:Rt(n.type,g),h.props=T,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=yt(y):(y=nt(s)?Ln:Ve.current,y=hr(n,y));var M=s.getDerivedStateFromProps;(x=typeof M=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||N!==y)&&df(n,h,l,y),mn=!1,N=n.memoizedState,h.state=N,Fs(n,l,h,a);var B=n.memoizedState;g!==P||N!==B||tt.current||mn?(typeof M=="function"&&(ou(n,s,M,l),B=n.memoizedState),(T=mn||af(n,s,T,l,N,B,y)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return du(e,n,s,l,d,a)}function du(e,n,s,l,a,d){Ef(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Td(n,s,!1),Xt(e,n,d);l=n.stateNode,r_.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=_r(n,e.child,null,d),n.child=_r(n,null,g,d)):qe(e,n,g,d),n.memoizedState=l.state,a&&Td(n,s,!0),n.child}function Sf(e){var n=e.stateNode;n.pendingContext?kd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&kd(e,n.context,!1),Kl(e,n.containerInfo)}function kf(e,n,s,l,a){return gr(),jl(a),n.flags|=256,qe(e,n,s,l),n.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function hu(e){return{baseLanes:e,cachePool:null,transitions:null}}function If(e,n,s){var l=n.pendingProps,a=ye.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ce(ye,a&1),e===null)return Wl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=ro(h,l,0,null),e=bn(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=hu(s),n.memoizedState=fu,e):pu(n,h));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return i_(e,n,h,l,g,a,s);if(d){d=l.fallback,h=n.mode,a=e.child,g=a.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Cn(a,y),l.subtreeFlags=a.subtreeFlags&14680064),g!==null?d=Cn(g,d):(d=bn(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?hu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=fu,l}return d=e.child,e=d.sibling,l=Cn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function pu(e,n){return n=ro({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function bs(e,n,s,l){return l!==null&&jl(l),_r(n,e.child,null,s),e=pu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function i_(e,n,s,l,a,d,h){if(s)return n.flags&256?(n.flags&=-257,l=uu(Error(r(422))),bs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,a=n.mode,l=ro({mode:"visible",children:l.children},a,0,null),d=bn(d,a,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&_r(n,e.child,null,h),n.child.memoizedState=hu(h),n.memoizedState=fu,d);if(!(n.mode&1))return bs(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=uu(d,l,void 0),bs(e,n,h,l)}if(g=(h&e.childLanes)!==0,rt||g){if(l=De,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Yt(e,a),Dt(l,e,a,-1))}return Pu(),l=uu(Error(r(421))),bs(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=__.bind(null,e),a._reactRetry=n,null):(e=d.treeContext,ht=dn(a.nextSibling),ft=n,_e=!0,Nt=null,e!==null&&(gt[_t++]=Gt,gt[_t++]=Kt,gt[_t++]=Mn,Gt=e.id,Kt=e.overflow,Mn=n),n=pu(n,l.children),n.flags|=4096,n)}function Tf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$l(e.return,n,s)}function mu(e,n,s,l,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=a)}function Nf(e,n,s){var l=n.pendingProps,a=l.revealOrder,d=l.tail;if(qe(e,n,l.children,s),l=ye.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,s,n);else if(e.tag===19)Tf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ce(ye,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&zs(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),mu(n,!1,a,s,d);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&zs(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}mu(n,!0,s,null,d);break;case"together":mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $s(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xt(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Wn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Cn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Cn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function s_(e,n,s){switch(n.tag){case 3:Sf(n),gr();break;case 5:Wd(n);break;case 1:nt(n.type)&&Ns(n);break;case 4:Kl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ce(Os,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ce(ye,ye.current&1),n.flags|=128,null):s&n.child.childLanes?If(e,n,s):(ce(ye,ye.current&1),e=Xt(e,n,s),e!==null?e.sibling:null);ce(ye,ye.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Nf(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ce(ye,ye.current),l)break;return null;case 22:case 23:return n.lanes=0,wf(e,n,s)}return Xt(e,n,s)}var Rf,gu,xf,Pf;Rf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},gu=function(){},xf=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Un(Bt.current);var d=null;switch(s){case"input":a=$o(e,a),l=$o(e,l),d=[];break;case"select":a=z({},a,{value:void 0}),l=z({},l,{value:void 0}),d=[];break;case"textarea":a=Ko(e,a),l=Ko(e,l),d=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=ks)}qo(s,l);var h;s=null;for(T in a)if(!l.hasOwnProperty(T)&&a.hasOwnProperty(T)&&a[T]!=null)if(T==="style"){var g=a[T];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(u.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in l){var y=l[T];if(g=a!=null?a[T]:void 0,l.hasOwnProperty(T)&&y!==g&&(y!=null||g!=null))if(T==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(u.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&pe("scroll",e),d||g===y||(d=[])):(d=d||[]).push(T,y))}s&&(d=d||[]).push("style",s);var T=d;(n.updateQueue=T)&&(n.flags|=4)}},Pf=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ei(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $e(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function o_(e,n,s){var l=n.pendingProps;switch(Ul(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(n),null;case 1:return nt(n.type)&&Ts(),$e(n),null;case 3:return l=n.stateNode,wr(),me(tt),me(Ve),Xl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ds(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nt!==null&&(Nu(Nt),Nt=null))),gu(e,n),$e(n),null;case 5:Yl(n);var a=Un(gi.current);if(s=n.type,e!==null&&n.stateNode!=null)xf(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return $e(n),null}if(e=Un(Bt.current),Ds(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Ut]=n,l[di]=d,e=(n.mode&1)!==0,s){case"dialog":pe("cancel",l),pe("close",l);break;case"iframe":case"object":case"embed":pe("load",l);break;case"video":case"audio":for(a=0;a<ui.length;a++)pe(ui[a],l);break;case"source":pe("error",l);break;case"img":case"image":case"link":pe("error",l),pe("load",l);break;case"details":pe("toggle",l);break;case"input":ac(l,d),pe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},pe("invalid",l);break;case"textarea":fc(l,d),pe("invalid",l)}qo(s,d),a=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,g,e),a=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,g,e),a=["children",""+g]):u.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&pe("scroll",l)}switch(s){case"input":es(l),dc(l,d,!0);break;case"textarea":es(l),pc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=ks)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ut]=n,e[di]=l,Rf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Xo(s,l),s){case"dialog":pe("cancel",e),pe("close",e),a=l;break;case"iframe":case"object":case"embed":pe("load",e),a=l;break;case"video":case"audio":for(a=0;a<ui.length;a++)pe(ui[a],e);a=l;break;case"source":pe("error",e),a=l;break;case"img":case"image":case"link":pe("error",e),pe("load",e),a=l;break;case"details":pe("toggle",e),a=l;break;case"input":ac(e,l),a=$o(e,l),pe("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=z({},l,{value:void 0}),pe("invalid",e);break;case"textarea":fc(e,l),a=Ko(e,l),pe("invalid",e);break;default:a=l}qo(s,a),g=a;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?yc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&gc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Vr(e,y):typeof y=="number"&&Vr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?y!=null&&d==="onScroll"&&pe("scroll",e):y!=null&&Ke(e,d,y,h))}switch(s){case"input":es(e),dc(e,l,!1);break;case"textarea":es(e),pc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+oe(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?tr(e,!!l.multiple,d,!1):l.defaultValue!=null&&tr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ks)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return $e(n),null;case 6:if(e&&n.stateNode!=null)Pf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Un(gi.current),Un(Bt.current),Ds(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ut]=n,(d=l.nodeValue!==s)&&(e=ft,e!==null))switch(e.tag){case 3:Ss(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ut]=n,n.stateNode=l}return $e(n),null;case 13:if(me(ye),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&ht!==null&&n.mode&1&&!(n.flags&128))Ad(),gr(),n.flags|=98560,d=!1;else if(d=Ds(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ut]=n}else gr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$e(n),d=!1}else Nt!==null&&(Nu(Nt),Nt=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||ye.current&1?Re===0&&(Re=3):Pu())),n.updateQueue!==null&&(n.flags|=4),$e(n),null);case 4:return wr(),gu(e,n),e===null&&ai(n.stateNode.containerInfo),$e(n),null;case 10:return bl(n.type._context),$e(n),null;case 17:return nt(n.type)&&Ts(),$e(n),null;case 19:if(me(ye),d=n.memoizedState,d===null)return $e(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)Ei(d,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=zs(e),h!==null){for(n.flags|=128,Ei(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ce(ye,ye.current&1|2),n.child}e=e.sibling}d.tail!==null&&ke()>kr&&(n.flags|=128,l=!0,Ei(d,!1),n.lanes=4194304)}else{if(!l)if(e=zs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ei(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!_e)return $e(n),null}else 2*ke()-d.renderingStartTime>kr&&s!==1073741824&&(n.flags|=128,l=!0,Ei(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ke(),n.sibling=null,s=ye.current,ce(ye,l?s&1|2:s&1),n):($e(n),null);case 22:case 23:return xu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?pt&1073741824&&($e(n),n.subtreeFlags&6&&(n.flags|=8192)):$e(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function l_(e,n){switch(Ul(n),n.tag){case 1:return nt(n.type)&&Ts(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(),me(tt),me(Ve),Xl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Yl(n),null;case 13:if(me(ye),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return me(ye),null;case 4:return wr(),null;case 10:return bl(n.type._context),null;case 22:case 23:return xu(),null;case 24:return null;default:return null}}var Qs=!1,Qe=!1,u_=typeof WeakSet=="function"?WeakSet:Set,F=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ee(e,n,l)}else s.current=null}function _u(e,n,s){try{s()}catch(l){Ee(e,n,l)}}var Df=!1;function a_(e,n){if(xl=fs,e=ud(),El(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,T=0,x=0,P=e,N=null;t:for(;;){for(var M;P!==s||a!==0&&P.nodeType!==3||(g=h+a),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(M=P.firstChild)!==null;)N=P,P=M;for(;;){if(P===e)break t;if(N===s&&++T===a&&(g=h),N===d&&++x===l&&(y=h),(M=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=M}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pl={focusedElem:e,selectionRange:s},fs=!1,F=n;F!==null;)if(n=F,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,F=e;else for(;F!==null;){n=F;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Ie=B.memoizedState,C=n.stateNode,v=C.getSnapshotBeforeUpdate(n.elementType===n.type?W:Rt(n.type,W),Ie);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=n.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Ee(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,F=e;break}F=n.return}return B=Df,Df=!1,B}function Ci(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&_u(n,s,d)}a=a.next}while(a!==l)}}function Gs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function yu(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Af(e){var n=e.alternate;n!==null&&(e.alternate=null,Af(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ut],delete n[di],delete n[Ll],delete n[$g],delete n[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Of(e){return e.tag===5||e.tag===3||e.tag===4}function Lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ks));else if(l!==4&&(e=e.child,e!==null))for(vu(e,n,s),e=e.sibling;e!==null;)vu(e,n,s),e=e.sibling}function wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(wu(e,n,s),e=e.sibling;e!==null;)wu(e,n,s),e=e.sibling}var Ue=null,xt=!1;function _n(e,n,s){for(s=s.child;s!==null;)Mf(e,n,s),s=s.sibling}function Mf(e,n,s){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(os,s)}catch{}switch(s.tag){case 5:Qe||Cr(s,n);case 6:var l=Ue,a=xt;Ue=null,_n(e,n,s),Ue=l,xt=a,Ue!==null&&(xt?(e=Ue,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ue.removeChild(s.stateNode));break;case 18:Ue!==null&&(xt?(e=Ue,s=s.stateNode,e.nodeType===8?Ol(e.parentNode,s):e.nodeType===1&&Ol(e,s),ei(e)):Ol(Ue,s.stateNode));break;case 4:l=Ue,a=xt,Ue=s.stateNode.containerInfo,xt=!0,_n(e,n,s),Ue=l,xt=a;break;case 0:case 11:case 14:case 15:if(!Qe&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var d=a,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&_u(s,n,h),a=a.next}while(a!==l)}_n(e,n,s);break;case 1:if(!Qe&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Ee(s,n,g)}_n(e,n,s);break;case 21:_n(e,n,s);break;case 22:s.mode&1?(Qe=(l=Qe)||s.memoizedState!==null,_n(e,n,s),Qe=l):_n(e,n,s);break;default:_n(e,n,s)}}function Ff(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new u_),n.forEach(function(l){var a=y_.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Pt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:Ue=g.stateNode,xt=!1;break e;case 3:Ue=g.stateNode.containerInfo,xt=!0;break e;case 4:Ue=g.stateNode.containerInfo,xt=!0;break e}g=g.return}if(Ue===null)throw Error(r(160));Mf(d,h,a),Ue=null,xt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(T){Ee(a,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,e),n=n.sibling}function zf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(n,e),jt(e),l&4){try{Ci(3,e,e.return),Gs(3,e)}catch(W){Ee(e,e.return,W)}try{Ci(5,e,e.return)}catch(W){Ee(e,e.return,W)}}break;case 1:Pt(n,e),jt(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Pt(n,e),jt(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var a=e.stateNode;try{Vr(a,"")}catch(W){Ee(e,e.return,W)}}if(l&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&cc(a,d),Xo(g,h);var T=Xo(g,d);for(h=0;h<y.length;h+=2){var x=y[h],P=y[h+1];x==="style"?yc(a,P):x==="dangerouslySetInnerHTML"?gc(a,P):x==="children"?Vr(a,P):Ke(a,x,P,T)}switch(g){case"input":Qo(a,d);break;case"textarea":hc(a,d);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var M=d.value;M!=null?tr(a,!!d.multiple,M,!1):N!==!!d.multiple&&(d.defaultValue!=null?tr(a,!!d.multiple,d.defaultValue,!0):tr(a,!!d.multiple,d.multiple?[]:"",!1))}a[di]=d}catch(W){Ee(e,e.return,W)}}break;case 6:if(Pt(n,e),jt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(W){Ee(e,e.return,W)}}break;case 3:if(Pt(n,e),jt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ei(n.containerInfo)}catch(W){Ee(e,e.return,W)}break;case 4:Pt(n,e),jt(e);break;case 13:Pt(n,e),jt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(Su=ke())),l&4&&Ff(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Qe=(T=Qe)||x,Pt(n,e),Qe=T):Pt(n,e),jt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!x&&e.mode&1)for(F=e,x=e.child;x!==null;){for(P=F=x;F!==null;){switch(N=F,M=N.child,N.tag){case 0:case 11:case 14:case 15:Ci(4,N,N.return);break;case 1:Cr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){Ee(l,s,W)}}break;case 5:Cr(N,N.return);break;case 22:if(N.memoizedState!==null){Wf(P);continue}}M!==null?(M.return=N,F=M):Wf(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,T?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=_c("display",h))}catch(W){Ee(e,e.return,W)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(W){Ee(e,e.return,W)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Pt(n,e),jt(e),l&4&&Ff(e);break;case 21:break;default:Pt(n,e),jt(e)}}function jt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Of(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Vr(a,""),l.flags&=-33);var d=Lf(e);wu(e,d,a);break;case 3:case 4:var h=l.stateNode.containerInfo,g=Lf(e);vu(e,g,h);break;default:throw Error(r(161))}}catch(y){Ee(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function c_(e,n,s){F=e,Uf(e)}function Uf(e,n,s){for(var l=(e.mode&1)!==0;F!==null;){var a=F,d=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Qs;if(!h){var g=a.alternate,y=g!==null&&g.memoizedState!==null||Qe;g=Qs;var T=Qe;if(Qs=h,(Qe=y)&&!T)for(F=a;F!==null;)h=F,y=h.child,h.tag===22&&h.memoizedState!==null?jf(a):y!==null?(y.return=h,F=y):jf(a);for(;d!==null;)F=d,Uf(d),d=d.sibling;F=a,Qs=g,Qe=T}Bf(e)}else a.subtreeFlags&8772&&d!==null?(d.return=a,F=d):Bf(e)}}function Bf(e){for(;F!==null;){var n=F;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Qe||Gs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Qe)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:Rt(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Bd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Bd(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var x=T.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&ei(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qe||n.flags&512&&yu(n)}catch(N){Ee(n,n.return,N)}}if(n===e){F=null;break}if(s=n.sibling,s!==null){s.return=n.return,F=s;break}F=n.return}}function Wf(e){for(;F!==null;){var n=F;if(n===e){F=null;break}var s=n.sibling;if(s!==null){s.return=n.return,F=s;break}F=n.return}}function jf(e){for(;F!==null;){var n=F;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Gs(4,n)}catch(y){Ee(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(y){Ee(n,a,y)}}var d=n.return;try{yu(n)}catch(y){Ee(n,d,y)}break;case 5:var h=n.return;try{yu(n)}catch(y){Ee(n,h,y)}}}catch(y){Ee(n,n.return,y)}if(n===e){F=null;break}var g=n.sibling;if(g!==null){g.return=n.return,F=g;break}F=n.return}}var d_=Math.ceil,Ks=xe.ReactCurrentDispatcher,Eu=xe.ReactCurrentOwner,wt=xe.ReactCurrentBatchConfig,te=0,De=null,Te=null,Be=0,pt=0,Sr=fn(0),Re=0,Si=null,Wn=0,Ys=0,Cu=0,ki=null,it=null,Su=0,kr=1/0,Jt=null,qs=!1,ku=null,yn=null,Xs=!1,vn=null,Js=0,Ii=0,Iu=null,Zs=-1,eo=0;function Xe(){return te&6?ke():Zs!==-1?Zs:Zs=ke()}function wn(e){return e.mode&1?te&2&&Be!==0?Be&-Be:Kg.transition!==null?(eo===0&&(eo=Oc()),eo):(e=le,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e):1}function Dt(e,n,s,l){if(50<Ii)throw Ii=0,Iu=null,Error(r(185));Yr(e,s,l),(!(te&2)||e!==De)&&(e===De&&(!(te&2)&&(Ys|=s),Re===4&&En(e,Be)),st(e,l),s===1&&te===0&&!(n.mode&1)&&(kr=ke()+500,Rs&&pn()))}function st(e,n){var s=e.callbackNode;Km(e,n);var l=as(e,e===De?Be:0);if(l===0)s!==null&&Pc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Pc(s),n===1)e.tag===0?Gg(Vf.bind(null,e)):Nd(Vf.bind(null,e)),Vg(function(){!(te&6)&&pn()}),s=null;else{switch(Lc(l)){case 1:s=il;break;case 4:s=Dc;break;case 16:s=ss;break;case 536870912:s=Ac;break;default:s=ss}s=Xf(s,Hf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Hf(e,n){if(Zs=-1,eo=0,te&6)throw Error(r(327));var s=e.callbackNode;if(Ir()&&e.callbackNode!==s)return null;var l=as(e,e===De?Be:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=to(e,l);else{n=l;var a=te;te|=2;var d=$f();(De!==e||Be!==n)&&(Jt=null,kr=ke()+500,Hn(e,n));do try{p_();break}catch(g){bf(e,g)}while(!0);Vl(),Ks.current=d,te=a,Te!==null?n=0:(De=null,Be=0,n=Re)}if(n!==0){if(n===2&&(a=sl(e),a!==0&&(l=a,n=Tu(e,a))),n===1)throw s=Si,Hn(e,0),En(e,l),st(e,ke()),s;if(n===6)En(e,l);else{if(a=e.current.alternate,!(l&30)&&!f_(a)&&(n=to(e,l),n===2&&(d=sl(e),d!==0&&(l=d,n=Tu(e,d))),n===1))throw s=Si,Hn(e,0),En(e,l),st(e,ke()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Vn(e,it,Jt);break;case 3:if(En(e,l),(l&130023424)===l&&(n=Su+500-ke(),10<n)){if(as(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Al(Vn.bind(null,e,it,Jt),n);break}Vn(e,it,Jt);break;case 4:if(En(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-It(l);d=1<<h,h=n[h],h>a&&(a=h),l&=~d}if(l=a,l=ke()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*d_(l/1960))-l,10<l){e.timeoutHandle=Al(Vn.bind(null,e,it,Jt),l);break}Vn(e,it,Jt);break;case 5:Vn(e,it,Jt);break;default:throw Error(r(329))}}}return st(e,ke()),e.callbackNode===s?Hf.bind(null,e):null}function Tu(e,n){var s=ki;return e.current.memoizedState.isDehydrated&&(Hn(e,n).flags|=256),e=to(e,n),e!==2&&(n=it,it=s,n!==null&&Nu(n)),e}function Nu(e){it===null?it=e:it.push.apply(it,e)}function f_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],d=a.getSnapshot;a=a.value;try{if(!Tt(d(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function En(e,n){for(n&=~Cu,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-It(n),l=1<<s;e[s]=-1,n&=~l}}function Vf(e){if(te&6)throw Error(r(327));Ir();var n=as(e,0);if(!(n&1))return st(e,ke()),null;var s=to(e,n);if(e.tag!==0&&s===2){var l=sl(e);l!==0&&(n=l,s=Tu(e,l))}if(s===1)throw s=Si,Hn(e,0),En(e,n),st(e,ke()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vn(e,it,Jt),st(e,ke()),null}function Ru(e,n){var s=te;te|=1;try{return e(n)}finally{te=s,te===0&&(kr=ke()+500,Rs&&pn())}}function jn(e){vn!==null&&vn.tag===0&&!(te&6)&&Ir();var n=te;te|=1;var s=wt.transition,l=le;try{if(wt.transition=null,le=1,e)return e()}finally{le=l,wt.transition=s,te=n,!(te&6)&&pn()}}function xu(){pt=Sr.current,me(Sr)}function Hn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Hg(s)),Te!==null)for(s=Te.return;s!==null;){var l=s;switch(Ul(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ts();break;case 3:wr(),me(tt),me(Ve),Xl();break;case 5:Yl(l);break;case 4:wr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:bl(l.type._context);break;case 22:case 23:xu()}s=s.return}if(De=e,Te=e=Cn(e.current,null),Be=pt=n,Re=0,Si=null,Cu=Ys=Wn=0,it=ki=null,zn!==null){for(n=0;n<zn.length;n++)if(s=zn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=a,l.next=h}s.pending=l}zn=null}return e}function bf(e,n){do{var s=Te;try{if(Vl(),Us.current=Hs,Bs){for(var l=ve.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Bs=!1}if(Bn=0,Pe=Ne=ve=null,_i=!1,yi=0,Eu.current=null,s===null||s.return===null){Re=1,Si=n,Te=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=Be,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,x=g,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var M=mf(h);if(M!==null){M.flags&=-257,gf(M,h,g,d,n),M.mode&1&&pf(d,T,n),n=M,y=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(y),n.updateQueue=W}else B.add(y);break e}else{if(!(n&1)){pf(d,T,n),Pu();break e}y=Error(r(426))}}else if(_e&&g.mode&1){var Ie=mf(h);if(Ie!==null){!(Ie.flags&65536)&&(Ie.flags|=256),gf(Ie,h,g,d,n),jl(Er(y,g));break e}}d=y=Er(y,g),Re!==4&&(Re=2),ki===null?ki=[d]:ki.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=ff(d,y,n);Ud(d,C);break e;case 1:g=y;var v=d.type,S=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yn===null||!yn.has(S)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=hf(d,g,n);Ud(d,D);break e}}d=d.return}while(d!==null)}Gf(s)}catch(j){n=j,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(!0)}function $f(){var e=Ks.current;return Ks.current=Hs,e===null?Hs:e}function Pu(){(Re===0||Re===3||Re===2)&&(Re=4),De===null||!(Wn&268435455)&&!(Ys&268435455)||En(De,Be)}function to(e,n){var s=te;te|=2;var l=$f();(De!==e||Be!==n)&&(Jt=null,Hn(e,n));do try{h_();break}catch(a){bf(e,a)}while(!0);if(Vl(),te=s,Ks.current=l,Te!==null)throw Error(r(261));return De=null,Be=0,Re}function h_(){for(;Te!==null;)Qf(Te)}function p_(){for(;Te!==null&&!Bm();)Qf(Te)}function Qf(e){var n=qf(e.alternate,e,pt);e.memoizedProps=e.pendingProps,n===null?Gf(e):Te=n,Eu.current=null}function Gf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=l_(s,n),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Te=null;return}}else if(s=o_(s,n,pt),s!==null){Te=s;return}if(n=n.sibling,n!==null){Te=n;return}Te=n=e}while(n!==null);Re===0&&(Re=5)}function Vn(e,n,s){var l=le,a=wt.transition;try{wt.transition=null,le=1,m_(e,n,s,l)}finally{wt.transition=a,le=l}return null}function m_(e,n,s,l){do Ir();while(vn!==null);if(te&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Ym(e,d),e===De&&(Te=De=null,Be=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Xs||(Xs=!0,Xf(ss,function(){return Ir(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=wt.transition,wt.transition=null;var h=le;le=1;var g=te;te|=4,Eu.current=null,a_(e,s),zf(s,e),Mg(Pl),fs=!!xl,Pl=xl=null,e.current=s,c_(s),Wm(),te=g,le=h,wt.transition=d}else e.current=s;if(Xs&&(Xs=!1,vn=e,Js=a),d=e.pendingLanes,d===0&&(yn=null),Vm(s.stateNode),st(e,ke()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(qs)throw qs=!1,e=ku,ku=null,e;return Js&1&&e.tag!==0&&Ir(),d=e.pendingLanes,d&1?e===Iu?Ii++:(Ii=0,Iu=e):Ii=0,pn(),null}function Ir(){if(vn!==null){var e=Lc(Js),n=wt.transition,s=le;try{if(wt.transition=null,le=16>e?16:e,vn===null)var l=!1;else{if(e=vn,vn=null,Js=0,te&6)throw Error(r(331));var a=te;for(te|=4,F=e.current;F!==null;){var d=F,h=d.child;if(F.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var T=g[y];for(F=T;F!==null;){var x=F;switch(x.tag){case 0:case 11:case 15:Ci(8,x,d)}var P=x.child;if(P!==null)P.return=x,F=P;else for(;F!==null;){x=F;var N=x.sibling,M=x.return;if(Af(x),x===T){F=null;break}if(N!==null){N.return=M,F=N;break}F=M}}}var B=d.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Ie=W.sibling;W.sibling=null,W=Ie}while(W!==null)}}F=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,F=h;else e:for(;F!==null;){if(d=F,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ci(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,F=C;break e}F=d.return}}var v=e.current;for(F=v;F!==null;){h=F;var S=h.child;if(h.subtreeFlags&2064&&S!==null)S.return=h,F=S;else e:for(h=v;F!==null;){if(g=F,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Gs(9,g)}}catch(j){Ee(g,g.return,j)}if(g===h){F=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,F=D;break e}F=g.return}}if(te=a,pn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(os,e)}catch{}l=!0}return l}finally{le=s,wt.transition=n}}return!1}function Kf(e,n,s){n=Er(s,n),n=ff(e,n,1),e=gn(e,n,1),n=Xe(),e!==null&&(Yr(e,1,n),st(e,n))}function Ee(e,n,s){if(e.tag===3)Kf(e,e,s);else for(;n!==null;){if(n.tag===3){Kf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yn===null||!yn.has(l))){e=Er(s,e),e=hf(n,e,1),n=gn(n,e,1),e=Xe(),n!==null&&(Yr(n,1,e),st(n,e));break}}n=n.return}}function g_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=Xe(),e.pingedLanes|=e.suspendedLanes&s,De===e&&(Be&s)===s&&(Re===4||Re===3&&(Be&130023424)===Be&&500>ke()-Su?Hn(e,0):Cu|=s),st(e,n)}function Yf(e,n){n===0&&(e.mode&1?(n=us,us<<=1,!(us&130023424)&&(us=4194304)):n=1);var s=Xe();e=Yt(e,n),e!==null&&(Yr(e,n,s),st(e,s))}function __(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yf(e,s)}function y_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Yf(e,s)}var qf;qf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||tt.current)rt=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return rt=!1,s_(e,n,s);rt=!!(e.flags&131072)}else rt=!1,_e&&n.flags&1048576&&Rd(n,Ps,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;$s(e,n),e=n.pendingProps;var a=hr(n,Ve.current);vr(n,s),a=eu(null,n,l,e,a,s);var d=tu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nt(l)?(d=!0,Ns(n)):d=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gl(n),a.updater=Vs,n.stateNode=a,a._reactInternals=n,lu(n,l,e,s),n=du(null,n,l,!0,d,s)):(n.tag=0,_e&&d&&zl(n),qe(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch($s(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=w_(l),e=Rt(l,e),a){case 0:n=cu(null,n,l,e,s);break e;case 1:n=Cf(null,n,l,e,s);break e;case 11:n=_f(null,n,l,e,s);break e;case 14:n=yf(null,n,l,Rt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Rt(l,a),cu(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Rt(l,a),Cf(e,n,l,a,s);case 3:e:{if(Sf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,a=d.element,zd(e,n),Fs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){a=Er(Error(r(423)),n),n=kf(e,n,l,s,a);break e}else if(l!==a){a=Er(Error(r(424)),n),n=kf(e,n,l,s,a);break e}else for(ht=dn(n.stateNode.containerInfo.firstChild),ft=n,_e=!0,Nt=null,s=Md(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gr(),l===a){n=Xt(e,n,s);break e}qe(e,n,l,s)}n=n.child}return n;case 5:return Wd(n),e===null&&Wl(n),l=n.type,a=n.pendingProps,d=e!==null?e.memoizedProps:null,h=a.children,Dl(l,a)?h=null:d!==null&&Dl(l,d)&&(n.flags|=32),Ef(e,n),qe(e,n,h,s),n.child;case 6:return e===null&&Wl(n),null;case 13:return If(e,n,s);case 4:return Kl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_r(n,null,l,s):qe(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Rt(l,a),_f(e,n,l,a,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,d=n.memoizedProps,h=a.value,ce(Os,l._currentValue),l._currentValue=h,d!==null)if(Tt(d.value,h)){if(d.children===a.children&&!tt.current){n=Xt(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=qt(-1,s&-s),y.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var x=T.pending;x===null?y.next=y:(y.next=x.next,x.next=y),T.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),$l(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),$l(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}qe(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,vr(n,s),a=yt(a),l=l(a),n.flags|=1,qe(e,n,l,s),n.child;case 14:return l=n.type,a=Rt(l,n.pendingProps),a=Rt(l.type,a),yf(e,n,l,a,s);case 15:return vf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:Rt(l,a),$s(e,n),n.tag=1,nt(l)?(e=!0,Ns(n)):e=!1,vr(n,s),cf(n,l,a),lu(n,l,a,s),du(null,n,l,!0,e,s);case 19:return Nf(e,n,s);case 22:return wf(e,n,s)}throw Error(r(156,n.tag))};function Xf(e,n){return xc(e,n)}function v_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,s,l){return new v_(e,n,s,l)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w_(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mt)return 11;if(e===Ft)return 14}return 2}function Cn(e,n){var s=e.alternate;return s===null?(s=Et(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function no(e,n,s,l,a,d){var h=2;if(l=e,typeof e=="function")Du(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Ze:return bn(s.children,a,d,n);case mt:h=8,a|=8;break;case rn:return e=Et(12,s,n,a|2),e.elementType=rn,e.lanes=d,e;case at:return e=Et(13,s,n,a),e.elementType=at,e.lanes=d,e;case kt:return e=Et(19,s,n,a),e.elementType=kt,e.lanes=d,e;case we:return ro(s,a,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bt:h=10;break e;case Dn:h=9;break e;case Mt:h=11;break e;case Ft:h=14;break e;case et:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Et(h,s,n,a),n.elementType=e,n.type=l,n.lanes=d,n}function bn(e,n,s,l){return e=Et(7,e,l,n),e.lanes=s,e}function ro(e,n,s,l){return e=Et(22,e,l,n),e.elementType=we,e.lanes=s,e.stateNode={isHidden:!1},e}function Au(e,n,s){return e=Et(6,e,null,n),e.lanes=s,e}function Ou(e,n,s){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function E_(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lu(e,n,s,l,a,d,h,g,y){return e=new E_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Et(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(d),e}function C_(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ye,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Jf(e){if(!e)return hn;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(nt(s))return Id(e,s,n)}return n}function Zf(e,n,s,l,a,d,h,g,y){return e=Lu(s,l,!0,e,a,d,h,g,y),e.context=Jf(null),s=e.current,l=Xe(),a=wn(s),d=qt(l,a),d.callback=n??null,gn(s,d,a),e.current.lanes=a,Yr(e,a,l),st(e,l),e}function io(e,n,s,l){var a=n.current,d=Xe(),h=wn(a);return s=Jf(s),n.context===null?n.context=s:n.pendingContext=s,n=qt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=gn(a,n,h),e!==null&&(Dt(e,a,h,d),Ms(e,a,h)),h}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Mu(e,n){eh(e,n),(e=e.alternate)&&eh(e,n)}var th=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}oo.prototype.render=Fu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));io(e,n,null,null)},oo.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jn(function(){io(null,e,null,null)}),n[$t]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var n=zc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<un.length&&n!==0&&n<un[s].priority;s++);un.splice(s,0,e),s===0&&Wc(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nh(){}function S_(e,n,s,l,a){if(a){if(typeof l=="function"){var d=l;l=function(){var T=so(h);d.call(T)}}var h=Zf(n,l,e,0,null,!1,!1,"",nh);return e._reactRootContainer=h,e[$t]=h.current,ai(e.nodeType===8?e.parentNode:e),jn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var g=l;l=function(){var T=so(y);g.call(T)}}var y=Lu(e,0,!1,null,null,!1,!1,"",nh);return e._reactRootContainer=y,e[$t]=y.current,ai(e.nodeType===8?e.parentNode:e),jn(function(){io(n,y,s,l)}),y}function uo(e,n,s,l,a){var d=s._reactRootContainer;if(d){var h=d;if(typeof a=="function"){var g=a;a=function(){var y=so(h);g.call(y)}}io(n,h,e,a)}else h=S_(s,n,e,a,l);return so(h)}Mc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Kr(n.pendingLanes);s!==0&&(ll(n,s|1),st(n,ke()),!(te&6)&&(kr=ke()+500,pn()))}break;case 13:jn(function(){var l=Yt(e,1);if(l!==null){var a=Xe();Dt(l,e,1,a)}}),Mu(e,1)}},ul=function(e){if(e.tag===13){var n=Yt(e,134217728);if(n!==null){var s=Xe();Dt(n,e,134217728,s)}Mu(e,134217728)}},Fc=function(e){if(e.tag===13){var n=wn(e),s=Yt(e,n);if(s!==null){var l=Xe();Dt(s,e,n,l)}Mu(e,n)}},zc=function(){return le},Uc=function(e,n){var s=le;try{return le=e,n()}finally{le=s}},el=function(e,n,s){switch(n){case"input":if(Qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Is(l);if(!a)throw Error(r(90));uc(l),Qo(l,a)}}}break;case"textarea":hc(e,s);break;case"select":n=s.value,n!=null&&tr(e,!!s.multiple,n,!1)}},Cc=Ru,Sc=jn;var k_={usingClientEntryPoint:!1,Events:[fi,dr,Is,wc,Ec,Ru]},Ti={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I_={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{os=ao.inject(I_),zt=ao}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_,ot.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(n))throw Error(r(200));return C_(e,n,null,s)},ot.createRoot=function(e,n){if(!zu(e))throw Error(r(299));var s=!1,l="",a=th;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Lu(e,1,!1,null,null,s,!1,l,a),e[$t]=n.current,ai(e.nodeType===8?e.parentNode:e),new Fu(n)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Nc(n),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return jn(e)},ot.hydrate=function(e,n,s){if(!lo(n))throw Error(r(200));return uo(null,e,n,!0,s)},ot.hydrateRoot=function(e,n,s){if(!zu(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,d="",h=th;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Zf(n,null,e,1,s??null,a,!1,d,h),e[$t]=n.current,ai(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new oo(n)},ot.render=function(e,n,s){if(!lo(n))throw Error(r(200));return uo(null,e,n,!1,s)},ot.unmountComponentAtNode=function(e){if(!lo(e))throw Error(r(40));return e._reactRootContainer?(jn(function(){uo(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},ot.unstable_batchedUpdates=Ru,ot.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!lo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return uo(e,n,s,!1,l)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var ch;function F_(){if(ch)return ju.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ju.exports=M_(),ju.exports}var dh;function z_(){if(dh)return co;dh=1;var i=F_();return co.createRoot=i.createRoot,co.hydrateRoot=i.hydrateRoot,co}var U_=z_();const B_="modulepreload",W_=function(i){return"https://msarfer.github.io/tienda-comida-firebase/"+i},fh={},j_=function(t,r,o){let u=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));u=Promise.allSettled(r.map(m=>{if(m=W_(m),m in fh)return;fh[m]=!0;const _=m.endsWith(".css"),k=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${k}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":B_,_||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((I,O)=>{w.addEventListener("load",I),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return t().catch(c)})},H_=Gn.createContext({menuItems:[],isChooseFoodPage:!1,setIsChooseFoodPage:()=>{}});var hh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(i,t){if(!i)throw zr(t)},zr=function(i){return new Error("Firebase Database ("+lp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},V_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],f=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Sa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],f=u+1<i.length,p=f?i[u+1]:0,m=u+2<i.length,_=m?i[u+2]:0,k=c>>2,w=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,O=_&63;m||(O=64,f||(I=64)),o.push(r[k],r[w],r[I],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(up(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):V_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const _=u<i.length?r[i.charAt(u)]:64;++u;const w=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||_==null||w==null)throw new b_;const I=c<<2|p>>4;if(o.push(I),_!==64){const O=p<<4&240|_>>2;if(o.push(O),w!==64){const U=_<<6&192|w;o.push(U)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class b_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ap=function(i){const t=up(i);return Sa.encodeByteArray(t,!0)},mo=function(i){return ap(i).replace(/\./g,"")},ta=function(i){try{return Sa.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(i){return cp(void 0,i)}function cp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Q_(r)||(i[r]=cp(i[r],t[r]));return i}function Q_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=()=>G_().__FIREBASE_DEFAULTS__,Y_=()=>{if(typeof process>"u"||typeof hh>"u")return;const i=hh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},q_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&ta(i[1]);return t&&JSON.parse(t)},dp=()=>{try{return K_()||Y_()||q_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},X_=i=>{var t,r;return(r=(t=dp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},J_=i=>{const t=X_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},fp=()=>{var i;return(i=dp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mo(JSON.stringify(r)),mo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ey())}function ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ny(){return lp.NODE_ADMIN===!0}function ry(){try{return typeof indexedDB=="object"}catch{return!1}}function iy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="FirebaseError";class Yi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=sy,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pp.prototype.create)}}class pp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],f=c?oy(c,o):"Error",p=`${this.serviceName}: ${f} (${u}).`;return new Yi(u,p,o)}}function oy(i,t){return i.replace(ly,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const ly=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(i){return JSON.parse(i)}function ze(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Ui(ta(c[0])||""),r=Ui(ta(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},uy=function(i){const t=mp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},ay=function(i){const t=mp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Dr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function ph(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function go(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function na(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],f=t[u];if(mh(c)&&mh(f)){if(!na(c,f))return!1}else if(c!==f)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function mh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let w=0;w<16;w++)o[w]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let w=0;w<16;w++)o[w]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let w=16;w<80;w++){const I=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=(I<<1|I>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,k;for(let w=0;w<80;w++){w<40?w<20?(_=p^c&(f^p),k=1518500249):(_=c^f^p,k=1859775393):w<60?(_=c&f|p&(c|f),k=2400959708):(_=c^f^p,k=3395469782);const I=(u<<5|u>>>27)+_+m+k+o[w]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=u,u=I}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let f=this.inbuf_;for(;u<r;){if(f===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[f]=t.charCodeAt(u),++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}else for(;u<r;)if(c[f]=t[u],++f,++u,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function Ao(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,A(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;u=65536+(c<<10)+f}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Oo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i){return i&&i._delegate?i._delegate:i}class Bi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Ki;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(my(t))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=$n){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=$n){return this.instances.has(t)}getOptions(t=$n){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const f=this.instances.get(u);return f&&t(f,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:py(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=$n){return this.component?this.component.multipleInstances?t:$n:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function py(i){return i===$n?void 0:i}function my(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new hy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fe||(fe={}));const _y={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},yy=fe.INFO,vy={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},wy=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=vy[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let gp=class{constructor(t){this.name=t,this._logLevel=yy,this._logHandler=wy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_y[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}};const Ey=(i,t)=>t.some(r=>i instanceof r);let gh,_h;function Cy(){return gh||(gh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sy(){return _h||(_h=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _p=new WeakMap,ra=new WeakMap,yp=new WeakMap,bu=new WeakMap,ka=new WeakMap;function ky(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(In(i.result)),u()},f=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&_p.set(r,i)}).catch(()=>{}),ka.set(t,i),t}function Iy(i){if(ra.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),u()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ra.set(i,t)}let ia={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return ra.get(i);if(t==="objectStoreNames")return i.objectStoreNames||yp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return In(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ty(i){ia=i(ia)}function Ny(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call($u(this),t,...r);return yp.set(o,t.sort?t.sort():[t]),In(o)}:Sy().includes(i)?function(...t){return i.apply($u(this),t),In(_p.get(this))}:function(...t){return In(i.apply($u(this),t))}}function Ry(i){return typeof i=="function"?Ny(i):(i instanceof IDBTransaction&&Iy(i),Ey(i,Cy())?new Proxy(i,ia):i)}function In(i){if(i instanceof IDBRequest)return ky(i);if(bu.has(i))return bu.get(i);const t=Ry(i);return t!==i&&(bu.set(i,t),ka.set(t,i)),t}const $u=i=>ka.get(i);function xy(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const f=indexedDB.open(i,t),p=In(f);return o&&f.addEventListener("upgradeneeded",m=>{o(In(f.result),m.oldVersion,m.newVersion,In(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Py=["get","getKey","getAll","getAllKeys","count"],Dy=["put","add","delete","clear"],Qu=new Map;function yh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Qu.get(t))return Qu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=Dy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Py.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,u?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),u&&m.done]))[0]};return Qu.set(t,c),c}Ty(i=>({...i,get:(t,r,o)=>yh(t,r)||i.get(t,r,o),has:(t,r)=>!!yh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Oy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Oy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sa="@firebase/app",vh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn=new gp("@firebase/app"),Ly="@firebase/app-compat",My="@firebase/analytics-compat",Fy="@firebase/analytics",zy="@firebase/app-check-compat",Uy="@firebase/app-check",By="@firebase/auth",Wy="@firebase/auth-compat",jy="@firebase/database",Hy="@firebase/data-connect",Vy="@firebase/database-compat",by="@firebase/functions",$y="@firebase/functions-compat",Qy="@firebase/installations",Gy="@firebase/installations-compat",Ky="@firebase/messaging",Yy="@firebase/messaging-compat",qy="@firebase/performance",Xy="@firebase/performance-compat",Jy="@firebase/remote-config",Zy="@firebase/remote-config-compat",ev="@firebase/storage",tv="@firebase/storage-compat",nv="@firebase/firestore",rv="@firebase/vertexai",iv="@firebase/firestore-compat",sv="firebase",ov="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]",lv={[sa]:"fire-core",[Ly]:"fire-core-compat",[Fy]:"fire-analytics",[My]:"fire-analytics-compat",[Uy]:"fire-app-check",[zy]:"fire-app-check-compat",[By]:"fire-auth",[Wy]:"fire-auth-compat",[jy]:"fire-rtdb",[Hy]:"fire-data-connect",[Vy]:"fire-rtdb-compat",[by]:"fire-fn",[$y]:"fire-fn-compat",[Qy]:"fire-iid",[Gy]:"fire-iid-compat",[Ky]:"fire-fcm",[Yy]:"fire-fcm-compat",[qy]:"fire-perf",[Xy]:"fire-perf-compat",[Jy]:"fire-rc",[Zy]:"fire-rc-compat",[ev]:"fire-gcs",[tv]:"fire-gcs-compat",[nv]:"fire-fst",[iv]:"fire-fst-compat",[rv]:"fire-vertex","fire-js":"fire-js",[sv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Map,uv=new Map,la=new Map;function wh(i,t){try{i.container.addComponent(t)}catch(r){tn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function yo(i){const t=i.name;if(la.has(t))return tn.debug(`There were multiple attempts to register component ${t}.`),!1;la.set(t,i);for(const r of _o.values())wh(r,i);for(const r of uv.values())wh(r,i);return!0}function av(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new pp("app","Firebase",cv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=ov;function vp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:oa,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw Tn.create("bad-app-name",{appName:String(u)});if(r||(r=fp()),!r)throw Tn.create("no-options");const c=_o.get(u);if(c){if(na(r,c.options)&&na(o,c.config))return c;throw Tn.create("duplicate-app",{appName:u})}const f=new gy(u);for(const m of la.values())f.addComponent(m);const p=new dv(r,o,f);return _o.set(u,p),p}function hv(i=oa){const t=_o.get(i);if(!t&&i===oa&&fp())return vp();if(!t)throw Tn.create("no-app",{appName:i});return t}function Nr(i,t,r){var o;let u=(o=lv[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tn.warn(p.join(" "));return}yo(new Bi(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="firebase-heartbeat-database",mv=1,Wi="firebase-heartbeat-store";let Gu=null;function wp(){return Gu||(Gu=xy(pv,mv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Wi)}catch(r){console.warn(r)}}}}).catch(i=>{throw Tn.create("idb-open",{originalErrorMessage:i.message})})),Gu}async function gv(i){try{const r=(await wp()).transaction(Wi),o=await r.objectStore(Wi).get(Ep(i));return await r.done,o}catch(t){if(t instanceof Yi)tn.warn(t.message);else{const r=Tn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tn.warn(r.message)}}}async function Eh(i,t){try{const o=(await wp()).transaction(Wi,"readwrite");await o.objectStore(Wi).put(t,Ep(i)),await o.done}catch(r){if(r instanceof Yi)tn.warn(r.message);else{const o=Tn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});tn.warn(o.message)}}}function Ep(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=1024,yv=30*24*60*60*1e3;class vv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ev(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ch();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=yv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){tn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ch(),{heartbeatsToSend:o,unsentEntries:u}=wv(this._heartbeatsCache.heartbeats),c=mo(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return tn.warn(r),""}}}function Ch(){return new Date().toISOString().substring(0,10)}function wv(i,t=_v){const r=[];let o=i.slice();for(const u of i){const c=r.find(f=>f.agent===u.agent);if(c){if(c.dates.push(u.date),Sh(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),Sh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Ev{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ry()?iy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Eh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Eh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function Sh(i){return mo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(i){yo(new Bi("platform-logger",t=>new Ay(t),"PRIVATE")),yo(new Bi("heartbeat",t=>new vv(t),"PRIVATE")),Nr(sa,vh,i),Nr(sa,vh,"esm2017"),Nr("fire-js","")}Cv("");var Sv="firebase",kv="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(Sv,kv,"app");var kh={};const Ih="@firebase/database",Th="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp="";function Iv(i){Cp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ze(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Ui(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Vt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Tv(t)}}catch{}return new Nv},Kn=Sp("localStorage"),Rv=Sp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new gp("@firebase/database"),xv=function(){let i=1;return function(){return i++}}(),kp=function(i){const t=fy(i),r=new dy;r.update(t);const o=r.digest();return Sa.encodeByteArray(o)},qi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=qi.apply(null,o):typeof o=="object"?t+=ze(o):t+=o,t+=" "}return t};let Oi=null,Nh=!0;const Pv=function(i,t){A(!0,"Can't turn on custom loggers persistently."),Rr.logLevel=fe.VERBOSE,Oi=Rr.log.bind(Rr)},We=function(...i){if(Nh===!0&&(Nh=!1,Oi===null&&Rv.get("logging_enabled")===!0&&Pv()),Oi){const t=qi.apply(null,i);Oi(t)}},Xi=function(i){return function(...t){We(i,...t)}},ua=function(...i){const t="FIREBASE INTERNAL ERROR: "+qi(...i);Rr.error(t)},nn=function(...i){const t=`FIREBASE FATAL ERROR: ${qi(...i)}`;throw Rr.error(t),new Error(t)},Je=function(...i){const t="FIREBASE WARNING: "+qi(...i);Rr.warn(t)},Dv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ia=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Av=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ar="[MIN_NAME]",Yn="[MAX_NAME]",Zn=function(i,t){if(i===t)return 0;if(i===Ar||t===Yn)return-1;if(t===Ar||i===Yn)return 1;{const r=Rh(i),o=Rh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},Ov=function(i,t){return i===t?0:i<t?-1:1},Ri=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+ze(t))},Ta=function(i){if(typeof i!="object"||i===null)return ze(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=ze(t[o]),r+=":",r+=Ta(i[t[o]]);return r+="}",r},Ip=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function je(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Tp=function(i){A(!Ia(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,f,p,m;i===0?(c=0,f=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(u?1:0),_.reverse();const k=_.join("");let w="";for(m=0;m<64;m+=8){let I=parseInt(k.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),w=w+I}return w.toLowerCase()},Lv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Mv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Fv(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const zv=new RegExp("^-?(0*)\\d{1,10}$"),Uv=-2147483648,Bv=2147483647,Rh=function(i){if(zv.test(i)){const t=Number(i);if(t>=Uv&&t<=Bv)return t}return null},Br=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Je("Exception was thrown by user callback.",r),t},Math.floor(0))}},Wv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(t)}}class po{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}po.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="5",Np="v",Rp="s",xp="r",Pp="f",Dp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ap="ls",Op="p",aa="ac",Lp="websocket",Mp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,r,o,u,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Kn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Kn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Vv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function zp(i,t,r){A(typeof t=="string","typeof type must == string"),A(typeof r=="object","typeof params must == object");let o;if(t===Lp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Mp)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Vv(i)&&(r.ns=i.namespace);const u=[];return je(r,(c,f)=>{u.push(c+"="+f)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.counters_={}}incrementCounter(t,r=1){Vt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return $_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={},Yu={};function Ra(i){const t=i.toString();return Ku[t]||(Ku[t]=new bv),Ku[t]}function $v(i,t){const r=i.toString();return Yu[r]||(Yu[r]=t()),Yu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Br(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="start",Gv="close",Kv="pLPCommand",Yv="pRTLPCB",Up="id",Bp="pw",Wp="ser",qv="cb",Xv="seg",Jv="ts",Zv="d",ew="dframe",jp=1870,Hp=30,tw=jp-Hp,nw=25e3,rw=3e4;class Tr{constructor(t,r,o,u,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xi(t),this.stats_=Ra(r),this.urlFn=m=>(this.appCheckToken&&(m[aa]=this.appCheckToken),zp(r,Mp,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Qv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(rw)),Av(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xa((...c)=>{const[f,p,m,_,k]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===xh)this.id=p,this.password=m;else if(f===Gv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[xh]="t",o[Wp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[qv]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Np]=Na,this.transportSessionId&&(o[Rp]=this.transportSessionId),this.lastSessionId&&(o[Ap]=this.lastSessionId),this.applicationId&&(o[Op]=this.applicationId),this.appCheckToken&&(o[aa]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dp.test(location.hostname)&&(o[xp]=Pp);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tr.forceAllow_=!0}static forceDisallow(){Tr.forceDisallow_=!0}static isAvailable(){return Tr.forceAllow_?!0:!Tr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Lv()&&!Mv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=ze(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=ap(r),u=Ip(o,tw);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[ew]="t",o[Up]=t,o[Bp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=ze(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class xa{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xv(),window[Kv+this.uniqueCallbackIdentifier]=t,window[Yv+this.uniqueCallbackIdentifier]=r,this.myIFrame=xa.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){We("frame writing exception"),p.stack&&We(p.stack),We(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||We("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Up]=this.myID,t[Bp]=this.myPW,t[Wp]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hp+o.length<=jp;){const f=this.pendingSegs.shift();o=o+"&"+Xv+u+"="+f.seg+"&"+Jv+u+"="+f.ts+"&"+Zv+u+"="+f.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(nw)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{We("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=16384,sw=45e3;let vo=null;typeof MozWebSocket<"u"?vo=MozWebSocket:typeof WebSocket<"u"&&(vo=WebSocket);class Ht{constructor(t,r,o,u,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xi(this.connId),this.stats_=Ra(r),this.connURL=Ht.connectionURL_(r,f,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const f={};return f[Np]=Na,typeof location<"u"&&location.hostname&&Dp.test(location.hostname)&&(f[xp]=Pp),r&&(f[Rp]=r),o&&(f[Ap]=o),u&&(f[aa]=u),c&&(f[Op]=c),zp(t,Lp,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Kn.set("previous_websocket_failure",!0);try{let o;ny(),this.mySock=new vo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Ht.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&vo!==null&&!Ht.forceDisallow_}static previouslyFailed(){return Kn.isInMemoryStorage||Kn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Kn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Ui(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=ze(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Ip(r,iw);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sw))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ht.responsesRequiredToBeHealthy=2;Ht.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{static get ALL_TRANSPORTS(){return[Tr,Ht]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Ht.isAvailable();let o=r&&!Ht.previouslyFailed();if(t.webSocketOnly&&(r||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ht];else{const u=this.transports_=[];for(const c of ji.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);ji.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ji.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=6e4,lw=5e3,uw=10*1024,aw=100*1024,qu="t",Ph="d",cw="s",Dh="r",dw="e",Ah="o",Oh="a",Lh="n",Mh="p",fw="h";class hw{constructor(t,r,o,u,c,f,p,m,_,k){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xi("c:"+this.id+":"),this.transportManager_=new ji(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(qu in t){const r=t[qu];r===Oh?this.upgradeIfSecondaryHealthy_():r===Dh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Ah&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Mh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Oh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Lh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ri("t",t),o=Ri("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ri(qu,t);if(Ph in t){const o=t[Ph];if(r===fw){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===Lh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===cw?this.onConnectionShutdown_(o):r===Dh?this.onReset_(o):r===dw?ua("Server Error: "+o):r===Ah?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ua("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Na!==o&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ow))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(lw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Mh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Kn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){A(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends bp{static getInstance(){return new wo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=32,zh=768;class ue{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function se(){return new ue("")}function X(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Rn(i){return i.pieces_.length-i.pieceNum_}function he(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ue(i.pieces_,t)}function Pa(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function pw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Hi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function $p(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ue(t,0)}function Ce(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ue)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ue(r,0)}function ee(i){return i.pieceNum_>=i.pieces_.length}function lt(i,t){const r=X(i),o=X(t);if(r===null)return t;if(r===o)return lt(he(i),he(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function mw(i,t){const r=Hi(i,0),o=Hi(t,0);for(let u=0;u<r.length&&u<o.length;u++){const c=Zn(r[u],o[u]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function Da(i,t){if(Rn(i)!==Rn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Ct(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Rn(i)>Rn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class gw{constructor(t,r){this.errorPrefix_=r,this.parts_=Hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Oo(this.parts_[o]);Qp(this)}}function _w(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Oo(t),Qp(i)}function yw(i){const t=i.parts_.pop();i.byteLength_-=Oo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Qp(i){if(i.byteLength_>zh)throw new Error(i.errorPrefix_+"has a key path longer than "+zh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Fh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fh+") or object contains a cycle "+Qn(i))}function Qn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends bp{static getInstance(){return new Aa}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=1e3,vw=60*5*1e3,Uh=30*1e3,ww=1.3,Ew=3e4,Cw="server_kill",Bh=3;class en extends Vp{constructor(t,r,o,u,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=en.nextPersistentConnectionId_++,this.log_=Xi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xi,this.maxReconnectDelay_=vw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Aa.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&wo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(ze(c)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new Ki,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;en.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Vt(t,"w")){const o=Dr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||ay(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Uh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=uy(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,f=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";u&&(c.q=o,c.t=u),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{u&&setTimeout(()=>{u(f.s,f.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ze(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ua("Unrecognized action received from server: "+ze(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ew&&(this.reconnectDelay_=xi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ww)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+en.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(w){A(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(w)};this.realtime_={close:m,sendRequest:_};const k=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,I]=await Promise.all([this.authTokenProvider_.getToken(k),this.appCheckTokenProvider_.getToken(k)]);f?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=I&&I.token,p=new hw(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{Je(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(Cw)},c))}catch(w){this.log_("Failed to get token: "+w),f||(this.repoInfo_.nodeAdmin&&Je(w),m())}}}interrupt(t){We("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){We("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ph(this.interruptReasons_)&&(this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Ta(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ue(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){We("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bh&&(this.reconnectDelay_=Uh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){We("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Cp.replace(/\./g,"-")]=1,hp()?t["framework.cordova"]=1:ty()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=wo.getInstance().currentlyOnline();return ph(this.interruptReasons_)&&t}}en.nextPersistentConnectionId_=0;en.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new J(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new J(Ar,t),u=new J(Ar,r);return this.compare(o,u)!==0}minPost(){return J.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class Gp extends Lo{static get __EMPTY_NODE(){return fo}static set __EMPTY_NODE(t){fo=t}compare(t,r){return Zn(t.name,r.name)}isDefinedOn(t){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return J.MIN}maxPost(){return new J(Yn,fo)}makePost(t,r){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new J(t,fo)}toString(){return".key"}}const xr=new Gp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,u&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Me{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??Me.RED,this.left=u??ut.EMPTY_NODE,this.right=c??ut.EMPTY_NODE}copy(t,r,o,u,c){return new Me(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ut.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Me.RED=!0;Me.BLACK=!1;class Sw{copy(t,r,o,u,c){return this}insert(t,r,o){return new Me(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ut{constructor(t,r=ut.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ut(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,Me.BLACK,null,null))}remove(t){return new ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Me.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ho(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new ho(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new ho(this.root_,null,this.comparator_,!0,t)}}ut.EMPTY_NODE=new Sw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,t){return Zn(i.name,t.name)}function Oa(i,t){return Zn(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca;function Iw(i){ca=i}const Kp=function(i){return typeof i=="number"?"number:"+Tp(i):"string:"+i},Yp=function(i){if(i.isLeafNode()){const t=i.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Vt(t,".sv"),"Priority must be a string or number.")}else A(i===ca||i.isEmpty(),"priority of unexpected type.");A(i===ca||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;class Le{static set __childrenNodeConstructor(t){Wh=t}static get __childrenNodeConstructor(){return Wh}constructor(t,r=Le.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Le(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ee(t)?this:X(t)===".priority"?this.priorityNode_:Le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=X(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(A(o!==".priority"||Rn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Le.__childrenNodeConstructor.EMPTY_NODE.updateChild(he(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Kp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Tp(this.value_):t+=this.value_,this.lazyHash_=kp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Le.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Le.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Le.VALUE_TYPE_ORDER.indexOf(r),c=Le.VALUE_TYPE_ORDER.indexOf(o);return A(u>=0,"Unknown leaf type: "+r),A(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp,Xp;function Tw(i){qp=i}function Nw(i){Xp=i}class Rw extends Lo{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?Zn(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return J.MIN}maxPost(){return new J(Yn,new Le("[PRIORITY-POST]",Xp))}makePost(t,r){const o=qp(t);return new J(r,new Le("[PRIORITY-POST]",o))}toString(){return".priority"}}const Se=new Rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=Math.log(2);class Pw{constructor(t){const r=c=>parseInt(Math.log(c)/xw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Eo=function(i,t,r,o){i.sort(t);const u=function(m,_){const k=_-m;let w,I;if(k===0)return null;if(k===1)return w=i[m],I=r?r(w):w,new Me(I,w.node,Me.BLACK,null,null);{const O=parseInt(k/2,10)+m,U=u(m,O),H=u(O+1,_);return w=i[O],I=r?r(w):w,new Me(I,w.node,Me.BLACK,U,H)}},c=function(m){let _=null,k=null,w=i.length;const I=function(U,H){const K=w-U,He=w;w-=U;const Ge=u(K+1,He),Ke=i[K],xe=r?r(Ke):Ke;O(new Me(xe,Ke.node,H,null,Ge))},O=function(U){_?(_.left=U,_=U):(k=U,_=U)};for(let U=0;U<m.count;++U){const H=m.nextBitIsOne(),K=Math.pow(2,m.count-(U+1));H?I(K,Me.BLACK):(I(K,Me.BLACK),I(K,Me.RED))}return k},f=new Pw(i.length),p=c(f);return new ut(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;const Pi={};class Zt{static get Default(){return A(Se,"ChildrenNode.ts has not been loaded"),Xu=Xu||new Zt({".priority":Pi},{".priority":Se}),Xu}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Dr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ut?r:null}hasIndex(t){return Vt(this.indexSet_,t.toString())}addIndex(t,r){A(t!==xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(J.Wrap);let f=c.getNext();for(;f;)u=u||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;u?p=Eo(o,t.getCompare()):p=Pi;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const k=Object.assign({},this.indexes_);return k[m]=p,new Zt(k,_)}addToIndexes(t,r){const o=go(this.indexes_,(u,c)=>{const f=Dr(this.indexSet_,c);if(A(f,"Missing index implementation for "+c),u===Pi)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(J.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),Eo(p,f.getCompare())}else return Pi;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new J(t.name,p))),m.insert(t,t.node)}});return new Zt(o,this.indexSet_)}removeFromIndexes(t,r){const o=go(this.indexes_,u=>{if(u===Pi)return u;{const c=r.get(t.name);return c?u.remove(new J(t.name,c)):u}});return new Zt(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di;class Q{static get EMPTY_NODE(){return Di||(Di=new Q(new ut(Oa),null,Zt.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Yp(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Di}updatePriority(t){return this.children_.isEmpty()?this:new Q(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Di:r}}getChild(t){const r=X(t);return r===null?this:this.getImmediateChild(r).getChild(he(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(A(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new J(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=u.isEmpty()?Di:this.priorityNode_;return new Q(u,f,c)}}updateChild(t,r){const o=X(t);if(o===null)return r;{A(X(t)!==".priority"||Rn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(he(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(Se,(f,p)=>{r[f]=p.val(t),o++,c&&Q.INTEGER_REGEXP_.test(f)?u=Math.max(u,Number(f)):c=!1}),!t&&c&&u<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Kp(this.getPriority().val())+":"),this.forEachChild(Se,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":kp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new J(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new J(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new J(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,J.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,J.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ji?-1:0}withIndex(t){if(t===xr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new Q(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===xr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Se),u=r.getIterator(Se);let c=o.getNext(),f=u.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=u.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===xr?null:this.indexMap_.get(t.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Dw extends Q{constructor(){super(new ut(Oa),Q.EMPTY_NODE,Zt.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}}const Ji=new Dw;Object.defineProperties(J,{MIN:{value:new J(Ar,Q.EMPTY_NODE)},MAX:{value:new J(Yn,Ji)}});Gp.__EMPTY_NODE=Q.EMPTY_NODE;Le.__childrenNodeConstructor=Q;Iw(Ji);Nw(Ji);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=!0;function Fe(i,t=null){if(i===null)return Q.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Le(r,Fe(t))}if(!(i instanceof Array)&&Aw){const r=[];let o=!1;if(je(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=Fe(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new J(f,m)))}}),r.length===0)return Q.EMPTY_NODE;const c=Eo(r,kw,f=>f.name,Oa);if(o){const f=Eo(r,Se.getCompare());return new Q(c,Fe(t),new Zt({".priority":f},{".priority":Se}))}else return new Q(c,Fe(t),Zt.Default)}else{let r=Q.EMPTY_NODE;return je(i,(o,u)=>{if(Vt(i,o)&&o.substring(0,1)!=="."){const c=Fe(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Fe(t))}}Tw(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Lo{constructor(t){super(),this.indexPath_=t,A(!ee(t)&&X(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?Zn(t.name,r.name):c}makePost(t,r){const o=Fe(t),u=Q.EMPTY_NODE.updateChild(this.indexPath_,o);return new J(r,u)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,Ji);return new J(Yn,t)}toString(){return Hi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Lo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Zn(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(t,r){const o=Fe(t);return new J(r,o)}toString(){return".value"}}const Mw=new Lw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i){return{type:"value",snapshotNode:i}}function Or(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Vi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function bi(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function Fw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.index_=t}updateChild(t,r,o,u,c,f){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(u).equals(o.getChild(u))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Vi(r,p)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Or(r,o)):f.trackChildChange(bi(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Se,(u,c)=>{r.hasChild(u)||o.trackChildChange(Vi(u,c))}),r.isLeafNode()||r.forEachChild(Se,(u,c)=>{if(t.hasChild(u)){const f=t.getImmediateChild(u);f.equals(c)||o.trackChildChange(bi(u,c,f))}else o.trackChildChange(Or(u,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.indexedFilter_=new La(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$i.getStartPost_(t),this.endPost_=$i.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,u,c,f){return this.matches(new J(r,o))||(o=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,u,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=Q.EMPTY_NODE);let u=r.withIndex(this.index_);u=u.updatePriority(Q.EMPTY_NODE);const c=this;return r.forEachChild(Se,(f,p)=>{c.matches(new J(f,p))||(u=u.updateImmediateChild(f,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new $i(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,u,c,f){return this.rangedFilter_.matches(new J(r,o))||(o=Q.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,u,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let u;if(r.isLeafNode()||r.isEmpty())u=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){u=Q.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))u=u.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{u=r.withIndex(this.index_),u=u.updatePriority(Q.EMPTY_NODE);let c;this.reverse_?c=u.getReverseIterator(this.index_):c=u.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:u=u.updateImmediateChild(p.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,u,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,u,c){let f;if(this.reverse_){const w=this.index_.getCompare();f=(I,O)=>w(O,I)}else f=this.index_.getCompare();const p=t;A(p.numChildren()===this.limit_,"");const m=new J(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),k=this.rangedFilter_.matches(m);if(p.hasChild(r)){const w=p.getImmediateChild(r);let I=u.getChildAfterChild(this.index_,_,this.reverse_);for(;I!=null&&(I.name===r||p.hasChild(I.name));)I=u.getChildAfterChild(this.index_,I,this.reverse_);const O=I==null?1:f(I,m);if(k&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange(bi(r,o,w)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Vi(r,w));const H=p.updateImmediateChild(r,Q.EMPTY_NODE);return I!=null&&this.rangedFilter_.matches(I)?(c!=null&&c.trackChildChange(Or(I.name,I.node)),H.updateImmediateChild(I.name,I.node)):H}}else return o.isEmpty()?t:k&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Vi(_.name,_.node)),c.trackChildChange(Or(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,Q.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const t=new Ma;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Uw(i){return i.loadsAllData()?new La(i.getIndex()):i.hasLimit()?new zw(i):new $i(i)}function jh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Se?r="$priority":i.index_===Mw?r="$value":i.index_===xr?r="$key":(A(i.index_ instanceof Ow,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=ze(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=ze(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+ze(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=ze(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+ze(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Hh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Se&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Vp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Xi("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=Co.getListenId_(t,o),p={};this.listens_[f]=p;const m=jh(t._queryParams);this.restRequest_(c+".json",m,(_,k)=>{let w=k;if(_===404&&(w=null,_=null),_===null&&this.onDataUpdate_(c,w,!1,o),Dr(this.listens_,f)===p){let I;_?_===401?I="permission_denied":I="rest_error:"+_:I="ok",u(I,null)}})}unlisten(t,r){const o=Co.getListenId_(t,r);delete this.listens_[o]}get(t){const r=jh(t._queryParams),o=t._path.toString(),u=new Ki;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+cy(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Ui(p.responseText)}catch{Je("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&Je("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return{value:null,children:new Map}}function Zp(i,t,r){if(ee(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=X(t);i.children.has(o)||i.children.set(o,So());const u=i.children.get(o);t=he(t),Zp(u,t,r)}}function da(i,t,r){i.value!==null?r(t,i.value):Ww(i,(o,u)=>{const c=new ue(t.toString()+"/"+o);da(u,c,r)})}function Ww(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&je(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=10*1e3,Hw=30*1e3,Vw=5*60*1e3;class bw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new jw(t);const o=Vh+(Hw-Vh)*Math.random();Li(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;je(t,(u,c)=>{c>0&&Vt(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*Vw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(At||(At={}));function Fa(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function za(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ua(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=At.ACK_USER_WRITE,this.source=Fa()}operationForChild(t){if(ee(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ue(t));return new ko(se(),r,this.revert)}}else return A(X(this.path)===t,"operationForChild called for unrelated child."),new ko(he(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r){this.source=t,this.path=r,this.type=At.LISTEN_COMPLETE}operationForChild(t){return ee(this.path)?new Qi(this.source,se()):new Qi(this.source,he(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=At.OVERWRITE}operationForChild(t){return ee(this.path)?new qn(this.source,se(),this.snap.getImmediateChild(t)):new qn(this.source,he(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=At.MERGE}operationForChild(t){if(ee(this.path)){const r=this.children.subtree(new ue(t));return r.isEmpty()?null:r.value?new qn(this.source,se(),r.value):new Lr(this.source,se(),r)}else return A(X(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Lr(this.source,he(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ee(t))return this.isFullyInitialized()&&!this.filtered_;const r=X(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Qw(i,t,r,o){const u=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(Fw(f.childName,f.snapshotNode))}),Ai(i,u,"child_removed",t,o,r),Ai(i,u,"child_added",t,o,r),Ai(i,u,"child_moved",c,o,r),Ai(i,u,"child_changed",t,o,r),Ai(i,u,"value",t,o,r),u}function Ai(i,t,r,o,u,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>Kw(i,p,m)),f.forEach(p=>{const m=Gw(i,p,c);u.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function Gw(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Kw(i,t,r){if(t.childName==null||r.childName==null)throw zr("Should only compare child_ events.");const o=new J(t.childName,t.snapshotNode),u=new J(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(i,t){return{eventCache:i,serverCache:t}}function Mi(i,t,r,o){return Mo(new Xn(t,r,o),i.serverCache)}function em(i,t,r,o){return Mo(i.eventCache,new Xn(t,r,o))}function fa(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;const Yw=()=>(Ju||(Ju=new ut(Ov)),Ju);class de{static fromObject(t){let r=new de(null);return je(t,(o,u)=>{r=r.set(new ue(o),u)}),r}constructor(t,r=Yw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:se(),value:this.value};if(ee(t))return null;{const o=X(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(he(t),r);return c!=null?{path:Ce(new ue(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ee(t))return this;{const r=X(t),o=this.children.get(r);return o!==null?o.subtree(he(t)):new de(null)}}set(t,r){if(ee(t))return new de(r,this.children);{const o=X(t),c=(this.children.get(o)||new de(null)).set(he(t),r),f=this.children.insert(o,c);return new de(this.value,f)}}remove(t){if(ee(t))return this.children.isEmpty()?new de(null):new de(null,this.children);{const r=X(t),o=this.children.get(r);if(o){const u=o.remove(he(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new de(null):new de(this.value,c)}else return this}}get(t){if(ee(t))return this.value;{const r=X(t),o=this.children.get(r);return o?o.get(he(t)):null}}setTree(t,r){if(ee(t))return r;{const o=X(t),c=(this.children.get(o)||new de(null)).setTree(he(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new de(this.value,f)}}fold(t){return this.fold_(se(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(Ce(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,se(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(ee(t))return null;{const c=X(t),f=this.children.get(c);return f?f.findOnPath_(he(t),Ce(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,se(),r)}foreachOnPath_(t,r,o){if(ee(t))return this;{this.value&&o(r,this.value);const u=X(t),c=this.children.get(u);return c?c.foreachOnPath_(he(t),Ce(r,u),o):new de(null)}}foreach(t){this.foreach_(se(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(Ce(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.writeTree_=t}static empty(){return new Ot(new de(null))}}function Fi(i,t,r){if(ee(t))return new Ot(new de(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const f=lt(u,t);return c=c.updateChild(f,r),new Ot(i.writeTree_.set(u,c))}else{const u=new de(r),c=i.writeTree_.setTree(t,u);return new Ot(c)}}}function ha(i,t,r){let o=i;return je(r,(u,c)=>{o=Fi(o,Ce(t,u),c)}),o}function bh(i,t){if(ee(t))return Ot.empty();{const r=i.writeTree_.setTree(t,new de(null));return new Ot(r)}}function pa(i,t){return er(i,t)!=null}function er(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(lt(r.path,t)):null}function $h(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Se,(o,u)=>{t.push(new J(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new J(o,u.value))}),t}function Nn(i,t){if(ee(t))return i;{const r=er(i,t);return r!=null?new Ot(new de(r)):new Ot(i.writeTree_.subtree(t))}}function ma(i){return i.writeTree_.isEmpty()}function Mr(i,t){return tm(se(),i.writeTree_,t)}function tm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(A(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=tm(Ce(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Ce(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(i,t){return sm(t,i)}function qw(i,t,r,o,u){A(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=Fi(i.visibleWrites,t,r)),i.lastWriteId=o}function Xw(i,t,r,o){A(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=ha(i.visibleWrites,t,r),i.lastWriteId=o}function Jw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Zw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);A(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,f=i.allWrites.length-1;for(;u&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&eE(p,o.path)?u=!1:Ct(o.path,p.path)&&(c=!0)),f--}if(u){if(c)return tE(i),!0;if(o.snap)i.visibleWrites=bh(i.visibleWrites,o.path);else{const p=o.children;je(p,m=>{i.visibleWrites=bh(i.visibleWrites,Ce(o.path,m))})}return!0}else return!1}function eE(i,t){if(i.snap)return Ct(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Ct(Ce(i.path,r),t))return!0;return!1}function tE(i){i.visibleWrites=nm(i.allWrites,nE,se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function nE(i){return i.visible}function nm(i,t,r){let o=Ot.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const f=c.path;let p;if(c.snap)Ct(r,f)?(p=lt(r,f),o=Fi(o,p,c.snap)):Ct(f,r)&&(p=lt(f,r),o=Fi(o,se(),c.snap.getChild(p)));else if(c.children){if(Ct(r,f))p=lt(r,f),o=ha(o,p,c.children);else if(Ct(f,r))if(p=lt(f,r),ee(p))o=ha(o,se(),c.children);else{const m=Dr(c.children,X(p));if(m){const _=m.getChild(he(p));o=Fi(o,se(),_)}}}else throw zr("WriteRecord should have .snap or .children")}}return o}function rm(i,t,r,o,u){if(!o&&!u){const c=er(i.visibleWrites,t);if(c!=null)return c;{const f=Nn(i.visibleWrites,t);if(ma(f))return r;if(r==null&&!pa(f,se()))return null;{const p=r||Q.EMPTY_NODE;return Mr(f,p)}}}else{const c=Nn(i.visibleWrites,t);if(!u&&ma(c))return r;if(!u&&r==null&&!pa(c,se()))return null;{const f=function(_){return(_.visible||u)&&(!o||!~o.indexOf(_.writeId))&&(Ct(_.path,t)||Ct(t,_.path))},p=nm(i.allWrites,f,t),m=r||Q.EMPTY_NODE;return Mr(p,m)}}}function rE(i,t,r){let o=Q.EMPTY_NODE;const u=er(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Se,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Nn(i.visibleWrites,t);return r.forEachChild(Se,(f,p)=>{const m=Mr(Nn(c,new ue(f)),p);o=o.updateImmediateChild(f,m)}),$h(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Nn(i.visibleWrites,t);return $h(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function iE(i,t,r,o,u){A(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=Ce(t,r);if(pa(i.visibleWrites,c))return null;{const f=Nn(i.visibleWrites,c);return ma(f)?u.getChild(r):Mr(f,u.getChild(r))}}function sE(i,t,r,o){const u=Ce(t,r),c=er(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Nn(i.visibleWrites,u);return Mr(f,o.getNode().getImmediateChild(r))}else return null}function oE(i,t){return er(i.visibleWrites,t)}function lE(i,t,r,o,u,c,f){let p;const m=Nn(i.visibleWrites,t),_=er(m,se());if(_!=null)p=_;else if(r!=null)p=Mr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const k=[],w=f.getCompare(),I=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=I.getNext();for(;O&&k.length<u;)w(O,o)!==0&&k.push(O),O=I.getNext();return k}else return[]}function uE(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Io(i,t,r,o){return rm(i.writeTree,i.treePath,t,r,o)}function Wa(i,t){return rE(i.writeTree,i.treePath,t)}function Qh(i,t,r,o){return iE(i.writeTree,i.treePath,t,r,o)}function To(i,t){return oE(i.writeTree,Ce(i.treePath,t))}function aE(i,t,r,o,u,c){return lE(i.writeTree,i.treePath,t,r,o,u,c)}function ja(i,t,r){return sE(i.writeTree,i.treePath,t,r)}function im(i,t){return sm(Ce(i.treePath,t),i.writeTree)}function sm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;A(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),A(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,bi(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Vi(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Or(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,bi(o,t.snapshotNode,u.oldSnap));else throw zr("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const om=new dE;class Ha{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ja(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),c=aE(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){return{filter:i}}function hE(i,t){A(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function pE(i,t,r,o,u){const c=new cE;let f,p;if(r.type===At.OVERWRITE){const _=r;_.source.fromUser?f=ga(i,t,_.path,_.snap,o,u,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!ee(_.path),f=No(i,t,_.path,_.snap,o,u,p,c))}else if(r.type===At.MERGE){const _=r;_.source.fromUser?f=gE(i,t,_.path,_.children,o,u,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=_a(i,t,_.path,_.children,o,u,p,c))}else if(r.type===At.ACK_USER_WRITE){const _=r;_.revert?f=vE(i,t,_.path,o,u,c):f=_E(i,t,_.path,_.affectedTree,o,u,c)}else if(r.type===At.LISTEN_COMPLETE)f=yE(i,t,r.path,o,c);else throw zr("Unknown operation type: "+r.type);const m=c.getChanges();return mE(t,f,m),{viewCache:f,changes:m}}function mE(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=fa(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Jp(fa(t)))}}function lm(i,t,r,o,u,c){const f=t.eventCache;if(To(o,r)!=null)return t;{let p,m;if(ee(r))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Jn(t),k=_ instanceof Q?_:Q.EMPTY_NODE,w=Wa(o,k);p=i.filter.updateFullNode(t.eventCache.getNode(),w,c)}else{const _=Io(o,Jn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=X(r);if(_===".priority"){A(Rn(r)===1,"Can't have a priority with additional path components");const k=f.getNode();m=t.serverCache.getNode();const w=Qh(o,r,k,m);w!=null?p=i.filter.updatePriority(k,w):p=f.getNode()}else{const k=he(r);let w;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const I=Qh(o,r,f.getNode(),m);I!=null?w=f.getNode().getImmediateChild(_).updateChild(k,I):w=f.getNode().getImmediateChild(_)}else w=ja(o,_,t.serverCache);w!=null?p=i.filter.updateChild(f.getNode(),_,w,k,u,c):p=f.getNode()}}return Mi(t,p,f.isFullyInitialized()||ee(r),i.filter.filtersNodes())}}function No(i,t,r,o,u,c,f,p){const m=t.serverCache;let _;const k=f?i.filter:i.filter.getIndexedFilter();if(ee(r))_=k.updateFullNode(m.getNode(),o,null);else if(k.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);_=k.updateFullNode(m.getNode(),O,null)}else{const O=X(r);if(!m.isCompleteForPath(r)&&Rn(r)>1)return t;const U=he(r),K=m.getNode().getImmediateChild(O).updateChild(U,o);O===".priority"?_=k.updatePriority(m.getNode(),K):_=k.updateChild(m.getNode(),O,K,U,om,null)}const w=em(t,_,m.isFullyInitialized()||ee(r),k.filtersNodes()),I=new Ha(u,w,c);return lm(i,w,r,u,I,p)}function ga(i,t,r,o,u,c,f){const p=t.eventCache;let m,_;const k=new Ha(u,t,c);if(ee(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Mi(t,_,!0,i.filter.filtersNodes());else{const w=X(r);if(w===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Mi(t,_,p.isFullyInitialized(),p.isFiltered());else{const I=he(r),O=p.getNode().getImmediateChild(w);let U;if(ee(I))U=o;else{const H=k.getCompleteChild(w);H!=null?Pa(I)===".priority"&&H.getChild($p(I)).isEmpty()?U=H:U=H.updateChild(I,o):U=Q.EMPTY_NODE}if(O.equals(U))m=t;else{const H=i.filter.updateChild(p.getNode(),w,U,I,k,f);m=Mi(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Gh(i,t){return i.eventCache.isCompleteForChild(t)}function gE(i,t,r,o,u,c,f){let p=t;return o.foreach((m,_)=>{const k=Ce(r,m);Gh(t,X(k))&&(p=ga(i,p,k,_,u,c,f))}),o.foreach((m,_)=>{const k=Ce(r,m);Gh(t,X(k))||(p=ga(i,p,k,_,u,c,f))}),p}function Kh(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function _a(i,t,r,o,u,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;ee(r)?_=o:_=new de(null).setTree(r,o);const k=t.serverCache.getNode();return _.children.inorderTraversal((w,I)=>{if(k.hasChild(w)){const O=t.serverCache.getNode().getImmediateChild(w),U=Kh(i,O,I);m=No(i,m,new ue(w),U,u,c,f,p)}}),_.children.inorderTraversal((w,I)=>{const O=!t.serverCache.isCompleteForChild(w)&&I.value===null;if(!k.hasChild(w)&&!O){const U=t.serverCache.getNode().getImmediateChild(w),H=Kh(i,U,I);m=No(i,m,new ue(w),H,u,c,f,p)}}),m}function _E(i,t,r,o,u,c,f){if(To(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ee(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return No(i,t,r,m.getNode().getChild(r),u,c,p,f);if(ee(r)){let _=new de(null);return m.getNode().forEachChild(xr,(k,w)=>{_=_.set(new ue(k),w)}),_a(i,t,r,_,u,c,p,f)}else return t}else{let _=new de(null);return o.foreach((k,w)=>{const I=Ce(r,k);m.isCompleteForPath(I)&&(_=_.set(k,m.getNode().getChild(I)))}),_a(i,t,r,_,u,c,p,f)}}function yE(i,t,r,o,u){const c=t.serverCache,f=em(t,c.getNode(),c.isFullyInitialized()||ee(r),c.isFiltered());return lm(i,f,r,o,om,u)}function vE(i,t,r,o,u,c){let f;if(To(o,r)!=null)return t;{const p=new Ha(o,t,u),m=t.eventCache.getNode();let _;if(ee(r)||X(r)===".priority"){let k;if(t.serverCache.isFullyInitialized())k=Io(o,Jn(t));else{const w=t.serverCache.getNode();A(w instanceof Q,"serverChildren would be complete if leaf node"),k=Wa(o,w)}k=k,_=i.filter.updateFullNode(m,k,c)}else{const k=X(r);let w=ja(o,k,t.serverCache);w==null&&t.serverCache.isCompleteForChild(k)&&(w=m.getImmediateChild(k)),w!=null?_=i.filter.updateChild(m,k,w,he(r),p,c):t.eventCache.getNode().hasChild(k)?_=i.filter.updateChild(m,k,Q.EMPTY_NODE,he(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Io(o,Jn(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||To(o,se())!=null,Mi(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new La(o.getIndex()),c=Uw(o);this.processor_=fE(c);const f=r.serverCache,p=r.eventCache,m=u.updateFullNode(Q.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(Q.EMPTY_NODE,p.getNode(),null),k=new Xn(m,f.isFullyInitialized(),u.filtersNodes()),w=new Xn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Mo(w,k),this.eventGenerator_=new $w(this.query_)}get query(){return this.query_}}function EE(i){return i.viewCache_.serverCache.getNode()}function CE(i,t){const r=Jn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ee(t)&&!r.getImmediateChild(X(t)).isEmpty())?r.getChild(t):null}function Yh(i){return i.eventRegistrations_.length===0}function SE(i,t){i.eventRegistrations_.push(t)}function qh(i,t,r){const o=[];if(r){A(t==null,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,u);f&&o.push(f)})}if(t){let u=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))u.push(f);else if(t.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function Xh(i,t,r,o){t.type===At.MERGE&&t.source.queryId!==null&&(A(Jn(i.viewCache_),"We should always have a full cache before handling merges"),A(fa(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=pE(i.processor_,u,t,r,o);return hE(i.processor_,c.viewCache),A(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,um(i,c.changes,c.viewCache.eventCache.getNode(),null)}function kE(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Se,(c,f)=>{o.push(Or(c,f))}),r.isFullyInitialized()&&o.push(Jp(r.getNode())),um(i,o,r.getNode(),t)}function um(i,t,r,o){const u=o?[o]:i.eventRegistrations_;return Qw(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class IE{constructor(){this.views=new Map}}function TE(i){A(!Ro,"__referenceConstructor has already been defined"),Ro=i}function NE(){return A(Ro,"Reference.ts has not been loaded"),Ro}function RE(i){return i.views.size===0}function Va(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return A(c!=null,"SyncTree gave us an op for an invalid query."),Xh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Xh(f,t,r,o));return c}}function xE(i,t,r,o,u){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=Io(r,u?o:null),m=!1;p?m=!0:o instanceof Q?(p=Wa(r,o),m=!1):(p=Q.EMPTY_NODE,m=!1);const _=Mo(new Xn(p,m,!1),new Xn(o,u,!1));return new wE(t,_)}return f}function PE(i,t,r,o,u,c){const f=xE(i,t,o,u,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),SE(f,r),kE(f,r)}function DE(i,t,r,o){const u=t._queryIdentifier,c=[];let f=[];const p=xn(i);if(u==="default")for(const[m,_]of i.views.entries())f=f.concat(qh(_,r,o)),Yh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(u);m&&(f=f.concat(qh(m,r,o)),Yh(m)&&(i.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!xn(i)&&c.push(new(NE())(t._repo,t._path)),{removed:c,events:f}}function am(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Pr(i,t){let r=null;for(const o of i.views.values())r=r||CE(o,t);return r}function cm(i,t){if(t._queryParams.loadsAllData())return Fo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function dm(i,t){return cm(i,t)!=null}function xn(i){return Fo(i)!=null}function Fo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;function AE(i){A(!xo,"__referenceConstructor has already been defined"),xo=i}function OE(){return A(xo,"Reference.ts has not been loaded"),xo}let LE=1;class Jh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new de(null),this.pendingWriteTree_=uE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fm(i,t,r,o,u){return qw(i.pendingWriteTree_,t,r,o,u),u?Wr(i,new qn(Fa(),t,r)):[]}function ME(i,t,r,o){Xw(i.pendingWriteTree_,t,r,o);const u=de.fromObject(r);return Wr(i,new Lr(Fa(),t,u))}function kn(i,t,r=!1){const o=Jw(i.pendingWriteTree_,t);if(Zw(i.pendingWriteTree_,t)){let c=new de(null);return o.snap!=null?c=c.set(se(),!0):je(o.children,f=>{c=c.set(new ue(f),!0)}),Wr(i,new ko(o.path,c,r))}else return[]}function zo(i,t,r){return Wr(i,new qn(za(),t,r))}function FE(i,t,r){const o=de.fromObject(r);return Wr(i,new Lr(za(),t,o))}function zE(i,t){return Wr(i,new Qi(za(),t))}function UE(i,t,r){const o=$a(i,r);if(o){const u=Qa(o),c=u.path,f=u.queryId,p=lt(c,t),m=new Qi(Ua(f),p);return Ga(i,c,m)}else return[]}function ya(i,t,r,o,u=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||dm(f,t))){const m=DE(f,t,r,o);RE(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!u){const k=_.findIndex(I=>I._queryParams.loadsAllData())!==-1,w=i.syncPointTree_.findOnPath(c,(I,O)=>xn(O));if(k&&!w){const I=i.syncPointTree_.subtree(c);if(!I.isEmpty()){const O=jE(I);for(let U=0;U<O.length;++U){const H=O[U],K=H.query,He=mm(i,H);i.listenProvider_.startListening(zi(K),Po(i,K),He.hashFn,He.onComplete)}}}!w&&_.length>0&&!o&&(k?i.listenProvider_.stopListening(zi(t),null):_.forEach(I=>{const O=i.queryToTagMap.get(Uo(I));i.listenProvider_.stopListening(zi(I),O)}))}HE(i,_)}return p}function BE(i,t,r,o){const u=$a(i,o);if(u!=null){const c=Qa(u),f=c.path,p=c.queryId,m=lt(f,t),_=new qn(Ua(p),m,r);return Ga(i,f,_)}else return[]}function WE(i,t,r,o){const u=$a(i,o);if(u){const c=Qa(u),f=c.path,p=c.queryId,m=lt(f,t),_=de.fromObject(r),k=new Lr(Ua(p),m,_);return Ga(i,f,k)}else return[]}function Zh(i,t,r,o=!1){const u=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(u,(I,O)=>{const U=lt(I,u);c=c||Pr(O,U),f=f||xn(O)});let p=i.syncPointTree_.get(u);p?(f=f||xn(p),c=c||Pr(p,se())):(p=new IE,i.syncPointTree_=i.syncPointTree_.set(u,p));let m;c!=null?m=!0:(m=!1,c=Q.EMPTY_NODE,i.syncPointTree_.subtree(u).foreachChild((O,U)=>{const H=Pr(U,se());H&&(c=c.updateImmediateChild(O,H))}));const _=dm(p,t);if(!_&&!t._queryParams.loadsAllData()){const I=Uo(t);A(!i.queryToTagMap.has(I),"View does not exist, but we have a tag");const O=VE();i.queryToTagMap.set(I,O),i.tagToQueryMap.set(O,I)}const k=Ba(i.pendingWriteTree_,u);let w=PE(p,t,r,k,c,m);if(!_&&!f&&!o){const I=cm(p,t);w=w.concat(bE(i,t,I))}return w}function ba(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=lt(f,t),_=Pr(p,m);if(_)return _});return rm(u,t,c,r,!0)}function Wr(i,t){return hm(t,i.syncPointTree_,null,Ba(i.pendingWriteTree_,se()))}function hm(i,t,r,o){if(ee(i.path))return pm(i,t,r,o);{const u=t.get(se());r==null&&u!=null&&(r=Pr(u,se()));let c=[];const f=X(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,k=im(o,f);c=c.concat(hm(p,m,_,k))}return u&&(c=c.concat(Va(u,i,o,r))),c}}function pm(i,t,r,o){const u=t.get(se());r==null&&u!=null&&(r=Pr(u,se()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=im(o,f),k=i.operationForChild(f);k&&(c=c.concat(pm(k,p,m,_)))}),u&&(c=c.concat(Va(u,i,o,r))),c}function mm(i,t){const r=t.query,o=Po(i,r);return{hashFn:()=>(EE(t)||Q.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return o?UE(i,r._path,o):zE(i,r._path);{const c=Fv(u,r);return ya(i,r,null,c)}}}}function Po(i,t){const r=Uo(t);return i.queryToTagMap.get(r)}function Uo(i){return i._path.toString()+"$"+i._queryIdentifier}function $a(i,t){return i.tagToQueryMap.get(t)}function Qa(i){const t=i.indexOf("$");return A(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ue(i.substr(0,t))}}function Ga(i,t,r){const o=i.syncPointTree_.get(t);A(o,"Missing sync point for query tag that we're tracking");const u=Ba(i.pendingWriteTree_,t);return Va(o,r,u,null)}function jE(i){return i.fold((t,r,o)=>{if(r&&xn(r))return[Fo(r)];{let u=[];return r&&(u=am(r)),je(o,(c,f)=>{u=u.concat(f)}),u}})}function zi(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(OE())(i._repo,i._path):i}function HE(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const u=Uo(o),c=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(c)}}}function VE(){return LE++}function bE(i,t,r){const o=t._path,u=Po(i,t),c=mm(i,r),f=i.listenProvider_.startListening(zi(t),u,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(u)A(!xn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,k,w)=>{if(!ee(_)&&k&&xn(k))return[Fo(k).query];{let I=[];return k&&(I=I.concat(am(k).map(O=>O.query))),je(w,(O,U)=>{I=I.concat(U)}),I}});for(let _=0;_<m.length;++_){const k=m[_];i.listenProvider_.stopListening(zi(k),Po(i,k))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Ka(r)}node(){return this.node_}}class Ya{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Ce(this.path_,t);return new Ya(this.syncTree_,r)}node(){return ba(this.syncTree_,this.path_)}}const $E=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},ep=function(i,t,r){if(!i||typeof i!="object")return i;if(A(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return QE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return GE(i[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},QE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:A(!1,"Unexpected server value: "+i)}},GE=function(i,t,r){i.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&A(!1,"Unexpected increment value: "+o);const u=t.node();if(A(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const f=u.getValue();return typeof f!="number"?o:f+o},gm=function(i,t,r,o){return qa(t,new Ya(r,i),o)},_m=function(i,t,r){return qa(i,new Ka(t),r)};function qa(i,t,r){const o=i.getPriority().val(),u=ep(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=ep(f.getValue(),t,r);return p!==f.getValue()||u!==f.getPriority().val()?new Le(p,Fe(u)):i}else{const f=i;return c=f,u!==f.getPriority().val()&&(c=c.updatePriority(new Le(u))),f.forEachChild(Se,(p,m)=>{const _=qa(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function Ja(i,t){let r=t instanceof ue?t:new ue(t),o=i,u=X(r);for(;u!==null;){const c=Dr(o.node.children,u)||{children:{},childCount:0};o=new Xa(u,o,c),r=he(r),u=X(r)}return o}function jr(i){return i.node.value}function ym(i,t){i.node.value=t,va(i)}function vm(i){return i.node.childCount>0}function KE(i){return jr(i)===void 0&&!vm(i)}function Bo(i,t){je(i.node.children,(r,o)=>{t(new Xa(r,i,o))})}function wm(i,t,r,o){r&&t(i),Bo(i,u=>{wm(u,t,!0)})}function YE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function Zi(i){return new ue(i.parent===null?i.name:Zi(i.parent)+"/"+i.name)}function va(i){i.parent!==null&&qE(i.parent,i.name,i)}function qE(i,t,r){const o=KE(r),u=Vt(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,va(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,va(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=/[\[\].#$\/\u0000-\u001F\u007F]/,JE=/[\[\].#$\u0000-\u001F\u007F]/,Zu=10*1024*1024,Za=function(i){return typeof i=="string"&&i.length!==0&&!XE.test(i)},Em=function(i){return typeof i=="string"&&i.length!==0&&!JE.test(i)},ZE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Em(i)},eC=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Ia(i)||i&&typeof i=="object"&&Vt(i,".sv")},Cm=function(i,t,r,o){o&&t===void 0||Wo(Ao(i,"value"),t,r)},Wo=function(i,t,r){const o=r instanceof ue?new gw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Qn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Qn(o)+" with contents = "+t.toString());if(Ia(t))throw new Error(i+"contains "+t.toString()+" "+Qn(o));if(typeof t=="string"&&t.length>Zu/3&&Oo(t)>Zu)throw new Error(i+"contains a string greater than "+Zu+" utf8 bytes "+Qn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(je(t,(f,p)=>{if(f===".value")u=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!Za(f)))throw new Error(i+" contains an invalid key ("+f+") "+Qn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_w(o,f),Wo(i,p,o),yw(o)}),u&&c)throw new Error(i+' contains ".value" child '+Qn(o)+" in addition to actual children.")}},tC=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Hi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!Za(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(mw);let u=null;for(r=0;r<t.length;r++){if(o=t[r],u!==null&&Ct(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}},nC=function(i,t,r,o){const u=Ao(i,"values");if(typeof t!="object"||Array.isArray(t))throw new Error(u+" must be an object containing the children to replace.");const c=[];je(t,(f,p)=>{const m=new ue(f);if(Wo(u,p,Ce(r,m)),Pa(m)===".priority"&&!eC(p))throw new Error(u+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),tC(u,c)},Sm=function(i,t,r,o){if(!Em(r))throw new Error(Ao(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Sm(i,t,r)},km=function(i,t){if(X(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},iC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Za(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!ZE(r))throw new Error(Ao(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jo(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!Da(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function Im(i,t,r){jo(i,r),Tm(i,o=>Da(o,t))}function Lt(i,t,r){jo(i,r),Tm(i,o=>Ct(o,t)||Ct(t,o))}function Tm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?(oC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function oC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Oi&&We("event: "+r.toString()),Br(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="repo_interrupt",uC=25;class aC{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=So(),this.transactionQueueTree_=new Xa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cC(i,t,r){if(i.stats_=Ra(i.repoInfo_),i.forceRestClient_||Wv())i.server_=new Co(i.repoInfo_,(o,u,c,f)=>{tp(i,o,u,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>np(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ze(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new en(i.repoInfo_,t,(o,u,c,f)=>{tp(i,o,u,c,f)},o=>{np(i,o)},o=>{dC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=$v(i.repoInfo_,()=>new bw(i.stats_,i.server_)),i.infoData_=new Bw,i.infoSyncTree_=new Jh({startListening:(o,u,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=zo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),ec(i,"connected",!1),i.serverSyncTree_=new Jh({startListening:(o,u,c,f)=>(i.server_.listen(o,c,u,(p,m)=>{const _=f(p,m);Lt(i.eventQueue_,o._path,_)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function Nm(i){const r=i.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ho(i){return $E({timestamp:Nm(i)})}function tp(i,t,r,o,u){i.dataUpdateCount++;const c=new ue(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(u)if(o){const m=go(r,_=>Fe(_));f=WE(i.serverSyncTree_,c,m,u)}else{const m=Fe(r);f=BE(i.serverSyncTree_,c,m,u)}else if(o){const m=go(r,_=>Fe(_));f=FE(i.serverSyncTree_,c,m)}else{const m=Fe(r);f=zo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Fr(i,c)),Lt(i.eventQueue_,p,f)}function np(i,t){ec(i,"connected",t),t===!1&&pC(i)}function dC(i,t){je(t,(r,o)=>{ec(i,r,o)})}function ec(i,t,r){const o=new ue("/.info/"+t),u=Fe(r);i.infoData_.updateSnapshot(o,u);const c=zo(i.infoSyncTree_,o,u);Lt(i.eventQueue_,o,c)}function tc(i){return i.nextWriteId_++}function fC(i,t,r,o,u){Vo(i,"set",{path:t.toString(),value:r,priority:o});const c=Ho(i),f=Fe(r,o),p=ba(i.serverSyncTree_,t),m=_m(f,p,c),_=tc(i),k=fm(i.serverSyncTree_,t,m,_,!0);jo(i.eventQueue_,k),i.server_.put(t.toString(),f.val(!0),(I,O)=>{const U=I==="ok";U||Je("set at "+t+" failed: "+I);const H=kn(i.serverSyncTree_,_,!U);Lt(i.eventQueue_,t,H),wa(i,u,I,O)});const w=rc(i,t);Fr(i,w),Lt(i.eventQueue_,w,[])}function hC(i,t,r,o){Vo(i,"update",{path:t.toString(),value:r});let u=!0;const c=Ho(i),f={};if(je(r,(p,m)=>{u=!1,f[p]=gm(Ce(t,p),Fe(m),i.serverSyncTree_,c)}),u)We("update() called with empty data.  Don't do anything."),wa(i,o,"ok",void 0);else{const p=tc(i),m=ME(i.serverSyncTree_,t,f,p);jo(i.eventQueue_,m),i.server_.merge(t.toString(),r,(_,k)=>{const w=_==="ok";w||Je("update at "+t+" failed: "+_);const I=kn(i.serverSyncTree_,p,!w),O=I.length>0?Fr(i,t):t;Lt(i.eventQueue_,O,I),wa(i,o,_,k)}),je(r,_=>{const k=rc(i,Ce(t,_));Fr(i,k)}),Lt(i.eventQueue_,t,[])}}function pC(i){Vo(i,"onDisconnectEvents");const t=Ho(i),r=So();da(i.onDisconnect_,se(),(u,c)=>{const f=gm(u,c,i.serverSyncTree_,t);Zp(r,u,f)});let o=[];da(r,se(),(u,c)=>{o=o.concat(zo(i.serverSyncTree_,u,c));const f=rc(i,u);Fr(i,f)}),i.onDisconnect_=So(),Lt(i.eventQueue_,se(),o)}function mC(i,t,r){let o;X(t._path)===".info"?o=Zh(i.infoSyncTree_,t,r):o=Zh(i.serverSyncTree_,t,r),Im(i.eventQueue_,t._path,o)}function gC(i,t,r){let o;X(t._path)===".info"?o=ya(i.infoSyncTree_,t,r):o=ya(i.serverSyncTree_,t,r),Im(i.eventQueue_,t._path,o)}function _C(i){i.persistentConnection_&&i.persistentConnection_.interrupt(lC)}function Vo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),We(r,...t)}function wa(i,t,r,o){t&&Br(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const f=new Error(c);f.code=u,t(f)}})}function Rm(i,t,r){return ba(i.serverSyncTree_,t,r)||Q.EMPTY_NODE}function nc(i,t=i.transactionQueueTree_){if(t||bo(i,t),jr(t)){const r=Pm(i,t);A(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&yC(i,Zi(t),r)}else vm(t)&&Bo(t,r=>{nc(i,r)})}function yC(i,t,r){const o=r.map(_=>_.currentWriteId),u=Rm(i,t,o);let c=u;const f=u.hash();for(let _=0;_<r.length;_++){const k=r[_];A(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;const w=lt(t,k.path);c=c.updateChild(w,k.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Vo(i,"transaction put response",{path:m.toString(),status:_});let k=[];if(_==="ok"){const w=[];for(let I=0;I<r.length;I++)r[I].status=2,k=k.concat(kn(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&w.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();bo(i,Ja(i.transactionQueueTree_,t)),nc(i,i.transactionQueueTree_),Lt(i.eventQueue_,t,k);for(let I=0;I<w.length;I++)Br(w[I])}else{if(_==="datastale")for(let w=0;w<r.length;w++)r[w].status===3?r[w].status=4:r[w].status=0;else{Je("transaction at "+m.toString()+" failed: "+_);for(let w=0;w<r.length;w++)r[w].status=4,r[w].abortReason=_}Fr(i,t)}},f)}function Fr(i,t){const r=xm(i,t),o=Zi(r),u=Pm(i,r);return vC(i,u,o),o}function vC(i,t,r){if(t.length===0)return;const o=[];let u=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=lt(r,m.path);let k=!1,w;if(A(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)k=!0,w=m.abortReason,u=u.concat(kn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=uC)k=!0,w="maxretry",u=u.concat(kn(i.serverSyncTree_,m.currentWriteId,!0));else{const I=Rm(i,m.path,f);m.currentInputSnapshot=I;const O=t[p].update(I.val());if(O!==void 0){Wo("transaction failed: Data returned ",O,m.path);let U=Fe(O);typeof O=="object"&&O!=null&&Vt(O,".priority")||(U=U.updatePriority(I.getPriority()));const K=m.currentWriteId,He=Ho(i),Ge=_m(U,I,He);m.currentOutputSnapshotRaw=U,m.currentOutputSnapshotResolved=Ge,m.currentWriteId=tc(i),f.splice(f.indexOf(K),1),u=u.concat(fm(i.serverSyncTree_,m.path,Ge,m.currentWriteId,m.applyLocally)),u=u.concat(kn(i.serverSyncTree_,K,!0))}else k=!0,w="nodata",u=u.concat(kn(i.serverSyncTree_,m.currentWriteId,!0))}Lt(i.eventQueue_,r,u),u=[],k&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(w==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(w),!1,null))))}bo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Br(o[p]);nc(i,i.transactionQueueTree_)}function xm(i,t){let r,o=i.transactionQueueTree_;for(r=X(t);r!==null&&jr(o)===void 0;)o=Ja(o,r),t=he(t),r=X(t);return o}function Pm(i,t){const r=[];return Dm(i,t,r),r.sort((o,u)=>o.order-u.order),r}function Dm(i,t,r){const o=jr(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);Bo(t,u=>{Dm(i,u,r)})}function bo(i,t){const r=jr(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,ym(t,r.length>0?r:void 0)}Bo(t,o=>{bo(i,o)})}function rc(i,t){const r=Zi(xm(i,t)),o=Ja(i.transactionQueueTree_,t);return YE(o,u=>{ea(i,u)}),ea(i,o),wm(o,u=>{ea(i,u)}),r}function ea(i,t){const r=jr(t);if(r){const o=[];let u=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(A(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(A(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),u=u.concat(kn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?ym(t,void 0):r.length=c+1,Lt(i.eventQueue_,Zi(t),u);for(let f=0;f<o.length;f++)Br(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function EC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Je(`Invalid query segment '${r}' in query '${i}'`)}return t}const rp=function(i,t){const r=CC(i),o=r.namespace;r.domain==="firebase.com"&&nn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Dv();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Fp(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ue(r.pathString)}},CC=function(i){let t="",r="",o="",u="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let k=i.indexOf("/");k===-1&&(k=i.length);let w=i.indexOf("?");w===-1&&(w=i.length),t=i.substring(0,Math.min(k,w)),k<w&&(u=wC(i.substring(k,w)));const I=EC(i.substring(Math.min(i.length,w)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const U=t.indexOf(".");o=t.substring(0,U).toLowerCase(),r=t.substring(U+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",SC=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=ip.charAt(r%64),r=Math.floor(r/64);A(r===0,"Cannot push at time == 0");let f=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)f+=ip.charAt(t[u]);return A(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,r,o,u){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=u}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ze(this.snapshot.exportVal())}}class IC{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return ee(this._path)?null:Pa(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const t=Hh(this._queryParams),r=Ta(t);return r==="{}"?"default":r}get _queryObject(){return Hh(this._queryParams)}isEqual(t){if(t=Ur(t),!(t instanceof ic))return!1;const r=this._repo===t._repo,o=Da(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+pw(this._path)}}class Pn extends ic{constructor(t,r){super(t,r,new Ma,!1)}get parent(){const t=$p(this._path);return t===null?null:new Pn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Do{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new ue(t),o=Gi(this.ref,t);return new Do(this._node.getChild(r),o,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,u)=>t(new Do(u,Gi(this.ref,o),Se)))}hasChild(t){const r=new ue(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function sc(i,t){return i=Ur(i),i._checkNotDeleted("ref"),t!==void 0?Gi(i._root,t):i._root}function Gi(i,t){return i=Ur(i),X(i._path)===null?rC("child","path",t):Sm("child","path",t),new Pn(i._repo,Ce(i._path,t))}function NC(i,t){i=Ur(i),km("push",i._path),Cm("push",t,i._path,!0);const r=Nm(i._repo),o=SC(r),u=Gi(i,o),c=Gi(i,o);let f;return t!=null?f=RC(c,t).then(()=>c):f=Promise.resolve(c),u.then=f.then.bind(f),u.catch=f.then.bind(f,void 0),u}function RC(i,t){i=Ur(i),km("set",i._path),Cm("set",t,i._path,!1);const r=new Ki;return fC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function xC(i,t){nC("update",t,i._path);const r=new Ki;return hC(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class oc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new kC("value",this,new Do(t.snapshotNode,new Pn(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new IC(this,t,r):null}matches(t){return t instanceof oc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function PC(i,t,r,o,u){const c=new TC(r,void 0),f=new oc(c);return mC(i._repo,i,f),()=>gC(i._repo,i,f)}function DC(i,t,r,o){return PC(i,"value",t)}TE(Pn);AE(Pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="FIREBASE_DATABASE_EMULATOR_HOST",Ea={};let OC=!1;function LC(i,t,r,o){i.repoInfo_=new Fp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function MC(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=rp(c,u),p=f.repoInfo,m;typeof process<"u"&&kh&&(m=kh[AC]),m?(c=`http://${m}?ns=${p.namespace}`,f=rp(c,u),p=f.repoInfo):f.repoInfo.secure;const _=new Hv(i.name,i.options,t);iC("Invalid Firebase Database URL",f),ee(f.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");const k=zC(p,i,_,new jv(i.name,r));return new UC(k,i)}function FC(i,t){const r=Ea[t];(!r||r[i.key]!==i)&&nn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),_C(i),delete r[i.key]}function zC(i,t,r,o){let u=Ea[t.name];u||(u={},Ea[t.name]=u);let c=u[i.toURLString()];return c&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new aC(i,OC,r,o),u[i.toURLString()]=c,c}class UC{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&nn("Cannot call "+t+" on a deleted database.")}}function BC(i=hv(),t){const r=av(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=J_("database");o&&WC(r,...o)}return r}function WC(i,t,r,o={}){i=Ur(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new po(po.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:Z_(o.mockUserToken,i.app.options.projectId);c=new po(f)}LC(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){Iv(fv),yo(new Bi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return MC(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Nr(Ih,Th,i),Nr(Ih,Th,"esm2017")}en.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};en.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};jC();const HC={apiKey:"AIzaSyDfo5bggRrCNUILVdHH57iJIsNOX2OH9Kc",authDomain:"tienda-comida-1a7e2.firebaseapp.com",databaseURL:"https://tienda-comida-1a7e2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tienda-comida-1a7e2",storageBucket:"tienda-comida-1a7e2.firebasestorage.app",messagingSenderId:"1092414552129",appId:"1:1092414552129:web:b91dd2b90d0b1fdfb0aec0"},VC=vp(HC),lc=BC(VC),XC=async(i,t)=>{const r=sc(lc,`menu/${i}`);await xC(r,{quantity:t})},JC=async i=>{console.log(i);const t=sc(lc,"orders");await NC(t,i)},bC=i=>i?Object.entries(i).map(([t,r])=>({...r,id:t})):[],$C=op.lazy(()=>j_(()=>import("./Foods-Ch3Q_Qt0.js"),[]));function QC(){const[i,t]=Gn.useState(!1),[r,o]=Gn.useState([]);return Gn.useEffect(()=>{const u=sc(lc,"menu");DC(u,c=>{const f=c.val(),p=bC(f);console.log(p),o(p)})},[]),Oe.jsx(H_.Provider,{value:{menuItems:r,isChooseFoodPage:i,setIsChooseFoodPage:t},children:Oe.jsxs("div",{className:"App",children:[Oe.jsx("button",{className:"toggleButton",onClick:()=>t(!i),children:i?"Disponibilidad":"Pedir Comida"}),Oe.jsx("h3",{className:"title",children:"Comida Rápida Online"}),!i&&Oe.jsxs(Oe.Fragment,{children:[Oe.jsx("h4",{className:"subTitle",children:"Menús"}),Oe.jsx("ul",{className:"ulApp",children:r.map(u=>Oe.jsxs("article",{className:"liApp",children:[Oe.jsx("p",{children:u.name}),Oe.jsxs("p",{children:["#",u.quantity]})]},u.id))})]}),i&&Oe.jsx(Gn.Suspense,{fallback:Oe.jsx("div",{children:"Cargando comida"}),children:Oe.jsx($C,{})})]})})}class GC{constructor(){Uu(this,"levels");Uu(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}}const sp=new GC;class KC extends op.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){sp.warn("Error capturado por ErrorBoundary: "+t.message),sp.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}U_.createRoot(document.getElementById("root")).render(Oe.jsx(Gn.StrictMode,{children:Oe.jsx(KC,{fallback:Oe.jsx("div",{children:"Algo ha ido mal :("}),children:Oe.jsx(QC,{})})}));export{H_ as M,JC as a,Oe as j,XC as l,Gn as r};
